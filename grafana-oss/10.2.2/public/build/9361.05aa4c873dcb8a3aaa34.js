(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[9361],{35896:(a,C,l)=>{"use strict";l.d(C,{O:()=>y});var n=l(14255),s=l(69307),h=l(13601);const f={http:80,https:443,ftp:21};class y{constructor(){this.absUrl=this.wrapInDeprecationWarning(this.absUrl),this.hash=this.wrapInDeprecationWarning(this.hash),this.host=this.wrapInDeprecationWarning(this.host),this.path=this.wrapInDeprecationWarning(this.path),this.port=this.wrapInDeprecationWarning(this.port,"window.location"),this.protocol=this.wrapInDeprecationWarning(this.protocol,"window.location"),this.replace=this.wrapInDeprecationWarning(this.replace),this.search=this.wrapInDeprecationWarning(this.search),this.state=this.wrapInDeprecationWarning(this.state),this.url=this.wrapInDeprecationWarning(this.url)}wrapInDeprecationWarning(u,v){let d=this;return function(){return(0,n.d)("$location",u.name,v||"locationService"),u.apply(d,arguments)}}absUrl(){return`${window.location.origin}${this.url()}`}hash(u){if((0,h.GQ)("AngularLocationWrapper",!1,"Angular compat layer: hash"),u)throw new Error("AngularLocationWrapper method not implemented.");return h.E1.getLocation().hash.slice(1)}host(){return new URL(window.location.href).hostname}path(u){(0,h.GQ)("AngularLocationWrapper",!1,"Angular compat layer: path");const v=h.E1.getLocation();if(u!=null){let d=String(u);d=d.startsWith("/")?d:`/${d}`;const g=new URL(`${window.location.origin}${d}`);return h.E1.push({pathname:g.pathname,search:g.search.length>0?g.search:v.search,hash:g.hash.length>0?g.hash:v.hash}),this}return u===null?(h.E1.push("/"),this):v.pathname}port(){const u=new URL(window.location.href);return parseInt(u.port,10)||f[u.protocol]||null}protocol(){return new URL(window.location.href).protocol.slice(0,-1)}replace(){throw new Error("AngularLocationWrapper method not implemented.")}search(u,v){if((0,h.GQ)("AngularLocationWrapper",!1,"Angular compat layer: search"),!u)return h.E1.getSearchObject();if(u&&arguments.length>1)return h.E1.partial({[u]:v}),this;if(u){let d;typeof u=="object"?d={...u}:d=(0,h.Ox)(u);for(const b of Object.keys(d))(d[b]===null||d[b]===void 0)&&delete d[b];const g=s.Cj.renderUrl(h.E1.getLocation().pathname,d);h.E1.push(g)}return this}state(u){throw(0,h.GQ)("AngularLocationWrapper",!1,"Angular compat layer: state"),new Error("AngularLocationWrapper method not implemented.")}url(u){if((0,h.GQ)("AngularLocationWrapper",!1,"Angular compat layer: url"),u!==void 0)return u.startsWith("#")?h.E1.push({...h.E1.getLocation(),hash:u}):u.startsWith("?")?h.E1.push({...h.E1.getLocation(),search:u}):u.trim().length===0?h.E1.push("/"):h.E1.push(u),h.E1;const v=h.E1.getLocation();return`${v.pathname}${v.search}${v.hash}`}}},79361:(a,C,l)=>{"use strict";l.d(C,{AngularApp:()=>si});var n=l(84783),s=l.n(n),h=l(31544),f=l(71519),y=l(77014),i=l(18342),u=l(73431);const v=`
  <ng-transclude class="panel-height-helper"></ng-transclude>
`;i.hF.directive("grafanaPanel",["$timeout",o=>({restrict:"E",template:v,transclude:!0,scope:{ctrl:"="},link:(t,r)=>{const e=t.ctrl,c=t.ctrl.panel,p=new h.w0;let m;function E(){m&&m.update()}e.events.on(f.Kh.componentDidMount,()=>{if(e.__proto__.constructor.scrollable){const T="baron baron__root baron__clipper panel-content--scrollable",I="baron__scroller",w=`
            <div class="baron__track">
              <div class="baron__bar"></div>
            </div>
          `,O=r,D=r.find(":first").find(":first");O.addClass(T),$(w).appendTo(O),D.addClass(I),m=s()({root:O[0],scroller:D[0],bar:".baron__bar",barOnCls:"_scrollbar",scrollingCls:"_scrolling"}),m.scroll()}});function S(){e.height=t.$parent.$parent.size.height,e.width=t.$parent.$parent.size.width}S(),p.add(c.events.subscribe(y.U5,()=>{S(),e.events.emit("refresh")})),p.add(c.events.subscribe(u._z,T=>{T.payload?.fromAngular||(S(),o(()=>{E(),e.events.emit("render")}))})),p.add(e.events.subscribe(u._z,T=>{T.payload&&(T.payload.fromAngular=!0,c.events.publish(T))})),t.$on("$destroy",()=>{r.off(),p.unsubscribe(),e.events.emit(f.Kh.panelTeardown),e.events.removeAllListeners(),m&&m.dispose()}),c.events.publish(u.GT)}})]);var d=l(72974),g=l(41670),b=l.n(g);const z=b().module("grafana.directives"),Y={};z.directive("panelEditorTab",["dynamicDirectiveSrv",H]);function H(o){return o.create({scope:{ctrl:"=",editorTab:"="},directive:t=>{const r=t.ctrl.pluginId,e=t.editorTab.title.toLowerCase().replace(" ","-").replace("&","").replace(" ","").replace(" ","-");if(Y[r]){if(Y[r][e])return Y[r][e]}else Y[r]=[];const c={fn:()=>t.editorTab.directiveFn(),name:`panel-editor-tab-${r}${e}`};return Y[r][e]=c,c}})}class q{constructor(){this.hasTextEditMode=!1}$onInit(){this.panelCtrl=this.queryCtrl.panelCtrl,this.target=this.queryCtrl.target,this.panel=this.panelCtrl.panel,this.hasTextEditMode&&this.queryCtrl.toggleEditorMode&&(this.panelCtrl.toggleEditorMode=this.queryCtrl.toggleEditorMode.bind(this.queryCtrl)),this.queryCtrl.getCollapsedText&&(this.panelCtrl.getCollapsedText=this.queryCtrl.getCollapsedText.bind(this.queryCtrl))}}i.hF.directive("queryEditorRow",N);function N(){return{restrict:"E",controller:q,bindToController:!0,controllerAs:"ctrl",templateUrl:"public/app/angular/panel/partials/query_editor_row.html",transclude:!0,scope:{queryCtrl:"=",canCollapse:"=",hasTextEditMode:"="}}}var j=l(53560),x=l(86832),rt=l.n(x),pt=l(92403),K=l(41182);i.ZP.filter("stringSort",()=>o=>o.sort()),i.ZP.filter("slice",()=>(o,t,r)=>(0,x.isUndefined)(o)?o:o.slice(t,r)),i.ZP.filter("stringify",()=>o=>(0,x.isObject)(o)&&!(0,x.isArray)(o)?b().toJson(o):(0,x.isNull)(o)?null:o.toString()),i.ZP.filter("moment",()=>(o,t)=>{switch(t){case"ago":return(0,pt.CQ)(o).fromNow()}return(0,pt.CQ)(o).fromNow()});function ot(o=(0,K.J)()){const t=(r,e)=>{let c;return e.ctrl?c=(e.ctrl.panel||e.ctrl.row).scopedVars:c=e.row.scopedVars,o.replaceWithText(r,c)};return t.$stateful=!0,t}i.ZP.filter("interpolateTemplateVars",ot);const lt={};class P{constructor(){}set(){console.warn("old deprecated alert srv being used")}}i.ZP.service("alertSrv",P);class st{constructor(t){this.$compile=t}addDirective(t,r,e){const c=b().element(document.createElement(r));this.$compile(c)(e),t.empty(),t.append(c)}link(t,r,e,c){const p=c.directive(t);if(!p||!p.fn){r.empty();return}p.fn.registered||(i.ZP.directive(e.$normalize(p.name),p.fn),p.fn.registered=!0),this.addDirective(r,p.name,t)}create(t){return{restrict:"E",scope:t.scope,link:(e,c,p)=>{if(t.watchPath){let m=null;e.$watch(t.watchPath,()=>{m&&m.$destroy(),m=e.$new(),this.link(m,c,p,t)})}else this.link(e,c,p,t)}}}}st.$inject=["$compile"],i.ZP.service("dynamicDirectiveSrv",st);var B=l(39953),ut=l(88942);function A(o,t){if(b().isFunction(o))return o;if(!o)throw new Error("ReactComponent name attribute must be specified");let r;try{r=t.get(o)}catch{}if(!r)try{r=o.split(".").reduce((e,c)=>e[c],window)}catch{}if(!r)throw Error("Cannot find react component "+o);return r}function nt(o,t){if(o.wrappedInApply)return o;const r=function(){const e=arguments,c=t.$root.$$phase;return c==="$apply"||c==="$digest"?o.apply(null,e):t.$apply(()=>o.apply(null,e))};return r.wrappedInApply=!0,r}function tt(o,t,r){return Object.keys(o||{}).reduce((e,c)=>{const p=o[c],m=(r||{})[c]||{};return e[c]=b().isFunction(p)&&m.wrapApply!==!1?nt(p,t):p,e},{})}function U(o,t,r,e){const c=b().isFunction(t.$watchCollection),p=b().isFunction(t.$watchGroup),m=[];for(const E of r){const S=bt(E),T=xt(o,E);!S||S.match(/\(.*\)/)||T==="one-time"||(T==="collection"&&c?t.$watchCollection(S,e):T==="reference"&&p?m.push(S):t.$watch(S,e,T!=="reference"))}o==="one-time"&&e(),m.length&&t.$watchGroup(m,e)}function Q(o,t,r,e){r.$evalAsync(()=>{e.render(B.createElement(o,t))})}function mt(o){return Array.isArray(o)?o[0]:o}function dt(o){return Array.isArray(o)?o[1]:{}}function bt(o){return Array.isArray(o)?o[0]:o}function wt(o,t){const r=Object.keys(o).find(e=>e.toLowerCase()===t.toLowerCase()||(0,x.kebabCase)(e)===(0,x.kebabCase)(t));return o[r]}function xt(o,t){return Array.isArray(t)&&b().isObject(t[1])&&t[1].watchDepth||o}const R=o=>({restrict:"E",replace:!0,link:function(t,r,e){const c=A(e.name,o),p=(0,ut.s)(r[0]),m=()=>{const E=t.$eval(e.props),S=tt(E,t);Q(c,S,t,p)};e.props?U(e.watchDepth,t,[e.props],m):m(),t.$on("$destroy",()=>{e.onScopeDestroy?t.$eval(e.onScopeDestroy,{unmountComponent:p.unmount.bind(this)}):p.unmount()})}}),W=o=>(t,r,e,c)=>{const p={restrict:"E",replace:!0,link:function(m,E,S){const T=A(t,o),I=(0,ut.s)(E[0]);r=r||Object.keys(T.propTypes||{});const w=()=>{let D={};const G={};r.forEach(ht=>{const F=mt(ht);D[F]=m.$eval(wt(S,F)),G[F]=dt(ht)}),D=tt(D,m,G),D=b().extend({},D,c),Q(T,D,m,I)},O=r.map(D=>Array.isArray(D)?[wt(S,D[0]),dt(D)]:wt(S,D));r.length?U(S.watchDepth,m,O,w):w(),m.$on("$destroy",()=>{S.onScopeDestroy?m.$eval(S.onScopeDestroy,{unmountComponent:I.unmount.bind(this)}):I.unmount()})}};return b().extend(p,e)},k=b().module("react",[]);k.directive("reactComponent",["$injector",R]),k.factory("reactDirective",["$injector",W]),i.ZP.service("uiSegmentSrv",["$sce","templateSrv",V]);function V(o,t){const r=this;class e{constructor(p){if(p==="*"||p.value==="*"){this.value="*",this.html=o.trustAsHtml('<i class="fa fa-asterisk"><i>'),this.type=p.type,this.expandable=!0;return}if((0,x.isString)(p)){this.value=p,this.html=o.trustAsHtml(t.highlightVariablesAsHtml(this.value));return}this.text=p.value,this.cssClass=p.cssClass,this.custom=p.custom,this.type=p.type,this.fake=p.fake,this.value=p.value,this.selectMode=p.selectMode,this.expandable=p.expandable,this.html=p.html||o.trustAsHtml(t.highlightVariablesAsHtml(this.value))}}this.getSegmentForValue=function(c,p){return c?this.newSegment(c):this.newSegment({value:p,fake:!0})},this.newSelectMeasurement=()=>new e({value:"select measurement",fake:!0}),this.newFake=(c,p,m)=>new e({value:c,fake:!0,type:p,cssClass:m}),this.newSegment=c=>new e(c),this.newKey=c=>new e({value:c,type:"key",cssClass:"query-segment-key"}),this.newKeyValue=c=>new e({value:c,type:"value",cssClass:"query-segment-value"}),this.newCondition=c=>new e({value:c,type:"condition",cssClass:"query-keyword"}),this.newOperator=c=>new e({value:c,type:"operator",cssClass:"query-segment-operator"}),this.newOperators=c=>(0,x.map)(c,p=>new e({value:p,type:"operator",cssClass:"query-segment-operator"})),this.transformToSegments=(c,p)=>m=>{const E=(0,x.map)(m,S=>r.newSegment({value:S.text,expandable:S.expandable}));return c&&(0,x.each)(t.getVariables(),S=>{(p===void 0||p===S.type)&&E.unshift(r.newSegment({type:"value",value:"$"+S.name,expandable:!0}))}),E},this.newSelectMetric=()=>new e({value:"select metric",fake:!0}),this.newPlusButton=()=>new e({fake:!0,html:'<i class="fa fa-plus "></i>',type:"plus-button",cssClass:"query-part"})}var Z=l(22344),et=l.n(Z);i.ZP.service("popoverSrv",["$compile","$rootScope","$timeout",X]);function X(o,t,r){let e=null;this.close=()=>{e&&e.close()},this.show=c=>{e&&(e.close(),e=null);const p=(0,x.extend)(t.$new(!0),c.model);let m;const E=()=>{setTimeout(()=>{p.$destroy(),m.tether&&m.destroy(),c.onClose&&c.onClose()}),e=null};p.dismiss=()=>{m.close()};const S=document.createElement("div");return S.innerHTML=c.template,o(S)(p),r(()=>{m=new(et())({target:c.element,content:S,position:c.position,classes:c.classNames||"drop-popover",openOn:c.openOn,hoverCloseDelay:200,tetherOptions:{constraints:[{to:"scrollParent",attachment:"together"}]}}),m.on("close",()=>{E()}),e=m,e.open()},100),()=>{m&&m.close()}}}class ft{constructor(t){this.$timeout=t,this.timers=[]}register(t){return this.timers.push(t),t}cancel(t){this.timers=(0,x.without)(this.timers,t),this.$timeout.cancel(t)}cancelAll(){(0,x.each)(this.timers,t=>{this.$timeout.cancel(t)}),this.timers=[]}}ft.$inject=["$timeout"],i.ZP.service("timer",ft);class L{constructor(t,r){this.$compile=t,this.$rootScope=r}load(t,r,e){const c=this.$rootScope.$new();(0,x.assign)(c,r);const p=this.$compile(e)(c);return b().element(t).append(p),{destroy:()=>{c.$destroy(),p.remove()},digest:()=>{c.$$phase||c.$digest()},getScope:()=>c}}}L.$inject=["$compile","$rootScope"],i.ZP.service("angularLoader",L);var at=l(6033),M=l.n(at);const Tt=M()(window);M().fn.place_tt=(()=>{const o={offset:5};return function(t,r,e){return e=M().extend(!0,{},o,e),this.each(()=>{const c=M()(this);let p,m;c.addClass("grafana-tooltip"),M()("#tooltip").remove(),c.appendTo(document.body),e.compile&&b().element(document).injector().invoke(["$compile","$rootScope",(T,I)=>{const w=I.$new(!0);(0,x.extend)(w,e.scopeData),T(c)(w),w.$digest(),w.$destroy()}]),p=c.outerWidth(!0),m=c.outerHeight(!0);const E=t+e.offset+p>Tt.width()?t-e.offset-p:t+e.offset,S=r+e.offset+m>Tt.height()?r-e.offset-m:r+e.offset;c.css("left",E>0?E:0),c.css("top",S>0?S:0)})}})();function Pt(o){const t='<input type="text" class="gf-form-input input-medium tight-form-input" spellcheck="false" style="display:none"></input>',r='<a class="gf-form-label tight-form-func dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" ><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel"},link:(e,c,p)=>{const m=M()(t),E=M()(r);m.appendTo(c),E.appendTo(c),p.linkText&&E.html(p.linkText),p.ngModel&&e.$watch("model",I=>{(0,x.each)(e.menuItems,w=>{(0,x.each)(w.submenu,O=>{O.value===I&&E.html(O.text)})})});const S=(0,x.reduce)(e.menuItems,(I,w,O)=>(w.submenu?(0,x.each)(w.submenu,(D,G)=>{D.click="menuItemSelected("+O+","+G+")",I.push(w.text+" "+D.text)}):(w.click="menuItemSelected("+O+")",I.push(w.text)),I),[]),T=()=>{m.hide(),m.val(""),E.show(),E.focus(),c.removeClass("open")};e.menuItemSelected=(I,w)=>{const O=e.menuItems[I],D={$item:O};O.submenu&&w!==void 0&&(D.$subItem=O.submenu[w]),e.dropdownTypeaheadOnSelect(D),T()},m.attr("data-provide","typeahead"),m.typeahead({source:S,minLength:1,items:10,updater:I=>{const w={};return(0,x.each)(e.menuItems,O=>{(0,x.each)(O.submenu,D=>{I===O.text+" "+D.text&&(w.$subItem=D,w.$item=O)})}),w.$item&&e.$apply(()=>{e.dropdownTypeaheadOnSelect(w)}),m.trigger("blur"),""}}),E.click(()=>{E.hide(),m.show(),m.focus()}),m.keyup(()=>{c.toggleClass("open",m.val()==="")}),c.mousedown(I=>{I.preventDefault()}),m.blur(()=>{m.hide(),m.val(""),E.show(),E.focus(),setTimeout(()=>{c.removeClass("open")},200)}),o(c.contents())(e)}}}function gt(o){const t='<input type="text" class="gf-form-input" spellcheck="false" style="display:none"></input>',r='<a class="{{buttonTemplateClass}} dropdown-toggle" tabindex="1" gf-dropdown="menuItems" data-toggle="dropdown" ><i class="fa fa-plus"></i></a>';return{scope:{menuItems:"=dropdownTypeahead2",dropdownTypeaheadOnSelect:"&dropdownTypeaheadOnSelect",model:"=ngModel",buttonTemplateClass:"@"},link:(e,c,p)=>{const m=M()(t);e.buttonTemplateClass||(e.buttonTemplateClass="gf-form-input");const E=M()(r),S={blur:null};m.appendTo(c),E.appendTo(c),p.linkText&&E.html(p.linkText),p.ngModel&&e.$watch("model",w=>{(0,x.each)(e.menuItems,O=>{(0,x.each)(O.submenu,D=>{D.value===w&&E.html(D.text)})})});const T=(0,x.reduce)(e.menuItems,(w,O,D)=>(O.submenu?(0,x.each)(O.submenu,(G,ht)=>{G.click="menuItemSelected("+D+","+ht+")",w.push(O.text+" "+G.text)}):(O.click="menuItemSelected("+D+")",w.push(O.text)),w),[]),I=()=>{m.hide(),m.val(""),E.show(),E.focus(),c.removeClass("open")};e.menuItemSelected=(w,O)=>{const D=e.menuItems[w],G={$item:D};D.submenu&&O!==void 0&&(G.$subItem=D.submenu[O]),e.dropdownTypeaheadOnSelect(G),I()},m.attr("data-provide","typeahead"),m.typeahead({source:T,minLength:1,items:10,updater:w=>{const O={};return(0,x.each)(e.menuItems,D=>{(0,x.each)(D.submenu,G=>{w===D.text+" "+G.text&&(O.$subItem=G,O.$item=D)})}),O.$item&&e.$apply(()=>{e.dropdownTypeaheadOnSelect(O)}),m.trigger("blur"),""}}),E.click(()=>{E.hide(),m.show(),m.focus()}),m.keyup(()=>{c.toggleClass("open",m.val()==="")}),c.mousedown(w=>{w.preventDefault(),S.blur=null}),m.blur(()=>{S.blur=setTimeout(()=>{I()},1)}),o(c.contents())(e)}}}i.ZP.directive("dropdownTypeahead",["$compile",Pt]),i.ZP.directive("dropdownTypeahead2",["$compile",gt]);function Nt(o){return{link:(t,r)=>{const e=r[0],c=()=>{const m=new Event("change");return e.dispatchEvent(m)},p=({animationName:m})=>{switch(m){case"onAutoFillStart":return c();case"onAutoFillCancel":return c()}return null};e.addEventListener("animationstart",p),t.$on("$destroy",()=>{e.removeEventListener("animationstart",p)})}}}i.ZP.directive("autofillEventFix",["$compile",Nt]);function $t(o,t,r){const e='<input type="text" data-provide="typeahead"  class="gf-form-input input-medium" spellcheck="false" style="display:none"></input>',c='<a class="gf-form-label" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>',p='<a class="gf-form-input gf-form-input--dropdown" ng-class="segment.cssClass" tabindex="1" give-focus="segment.focus" ng-bind-html="segment.html"></a>';return{scope:{segment:"=",getOptions:"&",onChange:"&",debounce:"@"},link:(m,E)=>{const S=M()(e),T=m.segment,I=M()(T.selectMode?p:c);let w=null,O=null,D=!0;const G=m.debounce;S.appendTo(E),I.appendTo(E),m.updateVariableValue=F=>{F===""||T.value===F||m.$apply(()=>{const _=(0,x.find)(m.altSegments,{value:F});_?(T.value=_.value,T.html=_.html||t.trustAsHtml(r.highlightVariablesAsHtml(_.value)),T.fake=!1,T.expandable=_.expandable,_.type&&(T.type=_.type)):T.custom!=="false"&&(T.value=F,T.html=t.trustAsHtml(r.highlightVariablesAsHtml(F)),T.expandable=!0,T.fake=!1),m.onChange()})},m.switchToLink=F=>{D&&!F||(clearTimeout(O),O=null,D=!0,S.hide(),I.show(),m.updateVariableValue(S.val()))},m.inputBlur=()=>{O=setTimeout(m.switchToLink,200)},m.source=(F,_)=>{m.$apply(()=>{m.getOptions({$query:F}).then(J=>{m.altSegments=J,w=(0,x.map)(m.altSegments,it=>(0,x.escape)(it.value)),T.custom!=="false"&&!T.fake&&(0,x.indexOf)(w,T.value)===-1&&w.unshift((0,x.escape)(T.value)),_(w)})})},m.updater=F=>(F=(0,x.unescape)(F),F===T.value?(clearTimeout(O),S.focus(),F):(S.val(F),m.switchToLink(!0),F)),m.matcher=function(F){if(D)return!1;let _=this.query;_[0]==="/"&&(_=_.substring(1)),_[_.length-1]==="/"&&(_=_.substring(0,_.length-1));try{return F.toLowerCase().match(_.toLowerCase())}catch{return!1}},S.attr("data-provide","typeahead"),S.typeahead({source:m.source,minLength:0,items:1e4,updater:m.updater,matcher:m.matcher});const ht=S.data("typeahead");ht.lookup=function(){this.query=this.$element.val()||"";const F=this.source(this.query,M().proxy(this.process,this));return F&&this.process(F)},G&&(ht.lookup=(0,x.debounce)(ht.lookup,500,{leading:!0})),I.keydown(F=>{(F.keyCode===40||F.keyCode===13)&&I.click()}),I.click(()=>{w=null,S.css("width",Math.max(I.width(),80)+16+"px"),I.hide(),S.show(),S.focus(),D=!1;const F=S.data("typeahead");F&&(S.val(""),F.lookup())}),S.blur(m.inputBlur),o(E.contents())(m)}}}function At(o){return{template:'<metric-segment segment="segment" get-options="getOptionsInternal()" on-change="onSegmentChange()"></metric-segment>',restrict:"E",scope:{property:"=",options:"=",getOptions:"&",onChange:"&"},link:{pre:function(r,e,c){let p;r.valueToSegment=m=>{const E=(0,x.find)(r.options,{value:m}),S={cssClass:c.cssClass,custom:c.custom,value:E?E.text:m,selectMode:c.selectMode};return o.newSegment(S)},r.getOptionsInternal=()=>r.options?(p=r.options,Promise.resolve((0,x.map)(r.options,m=>({value:m.text})))):r.getOptions().then(m=>(p=m,(0,x.map)(m,E=>E.html?E:{value:E.text}))),r.onSegmentChange=()=>{if(p){const m=(0,x.find)(p,{text:r.segment.value});m&&m.value!==r.property?r.property=m.value:c.custom!=="false"&&(r.property=r.segment.value)}else r.property=r.segment.value;r.$$postDigest(()=>{r.$apply(()=>{r.onChange()})})},r.segment=r.valueToSegment(r.property)}}}}i.ZP.directive("metricSegment",["$compile","$sce","templateSrv",$t]),i.ZP.directive("metricSegmentModel",["uiSegmentSrv",At]),i.ZP.directive("tip",["$compile",Ft]);function Ft(o){return{restrict:"E",link:(t,r,e)=>{let c='<i class="grafana-tip fa fa-'+(e.icon||"question-circle")+`" bs-tooltip="'`+r.text().replace(/[\'\"\\{}<>&]/g,p=>"&amp;#"+p.charCodeAt(0)+";")+`'"></i>`;r.replaceWith(o(b().element(c))(t))}}}i.ZP.directive("compile",["$compile",Wt]);function Wt(o){return{restrict:"A",link:(t,r,e)=>{t.$watch(c=>c.$eval(e.compile),c=>{r.html(c),o(r.contents())(t)})}}}i.ZP.directive("watchChange",Bt);function Bt(){return{scope:{onchange:"&watchChange"},link:(o,t)=>{t.on("input",()=>{o.$apply(()=>{o.onchange({inputValue:t.val()})})})}}}i.ZP.directive("editorOptBool",["$compile",ee]);function ee(o){return{restrict:"E",link:(t,r,e)=>{const c=e.change?' ng-change="'+e.change+'"':"",p=e.tip?" <tip>"+e.tip+"</tip>":"",E='<div class="editor-option gf-form-checkbox text-center"'+(e.showIf?' ng-show="'+e.showIf+'" ':"")+'> <label for="'+e.model+'" class="small">'+e.text+p+'</label><input class="cr1" id="'+e.model+'" type="checkbox"        ng-model="'+e.model+'"'+c+'       ng-checked="'+e.model+'"></input> <label for="'+e.model+'" class="cr1"></label>';r.replaceWith(o(b().element(E))(t))}}}i.ZP.directive("editorCheckbox",["$compile, $interpolate",ne]);function ne(o,t){return{restrict:"E",link:(r,e,c)=>{const p=t(c.text)(r),m=t(c.model)(r),E=c.change?' ng-change="'+c.change+'"':"",S=c.tip?" <tip>"+c.tip+"</tip>":"",T='<label for="'+r.$id+m+'" class="checkbox-label">'+p+S+"</label>";let I='<input class="cr1" id="'+r.$id+m+'" type="checkbox"        ng-model="'+m+'"'+E+'       ng-checked="'+m+'"></input> <label for="'+r.$id+m+'" class="cr1"></label>';I=I+T,e.addClass("gf-form-checkbox"),e.html(o(b().element(I))(r))}}}i.ZP.directive("gfDropdown",["$parse","$compile","$timeout",ie]);function ie(o,t,r){function e(c,p){const E=['<ul class="dropdown-menu '+(p==="top"?"dropup":"")+'" role="menu" aria-labelledby="drop1">',"</ul>"];for(let S=0;S<c.length;S++){const T=c[S];if(T.divider){E.splice(S+1,0,'<li class="divider"></li>');continue}let I="<li"+(T.submenu&&T.submenu.length?' class="dropdown-submenu"':"")+'><a tabindex="-1" ng-href="'+(T.href||"")+'"'+(T.click?' ng-click="'+T.click+'"':"")+(T.target?' target="'+T.target+'"':"")+(T.method?' data-method="'+T.method+'"':"")+">"+(T.text||"")+"</a>";T.submenu&&T.submenu.length&&(I+=e(T.submenu).join(`
`)),I+="</li>",E.splice(S+1,0,I)}return E}return{restrict:"EA",scope:!0,link:function(p,m,E){const S=o(E.gfDropdown),T=S(p);r(()=>{const I=m.data("placement");b().element(e(T,I).join("")).insertAfter(m),t(m.next("ul.dropdown-menu"))(p)}),m.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}i.ZP.directive("bsTooltip",["$parse","$compile",function(o,t){return{restrict:"A",scope:!0,link:function(e,c,p){let m=o(p.bsTooltip),E=m(e);e.$watch(p.bsTooltip,function(T,I){T!==I&&(E=T)}),c.on("show",function(T){M()(".tooltip.in").each(function(){const I=M()(this),w=I.data("tooltip");w&&!w.$element.is(c)&&I.tooltip("hide")})}),c.tooltip({title:function(){return b().isFunction(E)?E.apply(null,arguments):E},html:!0,container:"body"});const S=c.data("tooltip");S.show=function(){const T=M().fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data("tooltip",this),T},e._tooltip=function(T){c.tooltip(T)},e.hide=function(){c.tooltip("hide")},e.show=function(){c.tooltip("show")},e.dismiss=e.hide}}}]),i.ZP.directive("bsTypeahead",["$parse",function(o){return{restrict:"A",require:"?ngModel",link:function(r,e,c,p){let m=o(c.bsTypeahead),E=m(r);r.$watch(c.bsTypeahead,function(T,I){T!==I&&(E=T)}),e.attr("data-provide","typeahead"),e.typeahead({source:function(){return b().isFunction(E)?E.apply(null,arguments):E},minLength:c.minLength||1,items:c.item,updater:function(T){return p&&r.$apply(function(){p.$setViewValue(T)}),r.$emit("typeahead-updated",T),T}});const S=e.data("typeahead");S.lookup=function(){let T;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(T=(0,x.isFunction)(this.source)?this.source(this.query,M().proxy(this.process,this)):this.source,T?this.process(T):this)},c.matchAll&&(S.matcher=function(){return!0}),c.minLength==="0"&&setTimeout(function(){e.on("focus",function(){e.val().length===0&&setTimeout(e.typeahead.bind(e,"lookup"),200)})})}}}]);var re=l(81626);function oe(){return{restrict:"A",priority:1,require:"ngModel",link:(o,t,r,e)=>{r.type==="radio"||r.type==="checkbox"||(t.off("input keydown change"),t.bind("blur",()=>{o.$apply(()=>{e.$setViewValue(t.val())})}))}}}function se(){return{restrict:"A",require:"ngModel",link:(o,t,r,e)=>{e.$parsers.push(c=>c===""?null:c)}}}function ae(){return{require:"ngModel",link:(o,t,r,e)=>{e.$validators.integer=(c,p)=>e.$isEmpty(c)||p.indexOf("$")===0||p.indexOf("+$")===0?!0:re.describeTextRange(p).invalid!==!0}}}i.ZP.directive("ngModelOnblur",oe),i.ZP.directive("emptyToNull",se),i.ZP.directive("validTimeSpan",ae);var le=l(72899),li=l(90402);function jt(o,t){const{color:r,borderColor:e}=(0,le.Bx)(o);t.css("background-color",r),t.css("border-color",e)}function ce(){return{scope:{tagColorFromName:"="},link:(o,t)=>{jt(o.tagColorFromName,t)}}}function ue(){function o(t,r){if(r)return b().isFunction(t.$parent[r])?t.$parent[r]:e=>e[r]}return{restrict:"EA",scope:{model:"=ngModel",onTagsUpdated:"&"},template:"<select multiple></select>",replace:!1,link:function(t,r,e){b().isArray(t.model)||(t.model=[]);const c=M()("select",r);e.placeholder&&c.attr("placeholder",e.placeholder),c.tagsinput({typeahead:{source:b().isFunction(t.$parent[e.typeaheadSource])?t.$parent[e.typeaheadSource]:null},widthClass:e.widthClass,itemValue:o(t,e.itemvalue),itemText:o(t,e.itemtext),tagClass:b().isFunction(t.$parent[e.tagclass])?t.$parent[e.tagclass]:()=>e.tagclass}),c.on("itemAdded",p=>{t.model.indexOf(p.item)===-1&&(t.model.push(p.item),t.onTagsUpdated&&t.onTagsUpdated());const m=c.next().children("span").filter(()=>M()(this).text()===p.item);jt(p.item,m)}),c.on("itemRemoved",p=>{const m=t.model.indexOf(p.item);m!==-1&&(t.model.splice(m,1),t.onTagsUpdated&&t.onTagsUpdated())}),t.$watch("model",()=>{b().isArray(t.model)||(t.model=[]),c.tagsinput("removeAll");for(let p=0;p<t.model.length;p++)c.tagsinput("add",t.model[p])},!0)}}}i.ZP.directive("tagColorFromName",ce),i.ZP.directive("bootstrapTagsinput",ue);function he(o){let t=o[0];const r=o[o.length-1];let e;t=t.nextSibling;for(let c=1;t!==r&&t;c++)(e||o[c]!==t)&&(e||(e=M()([].slice.call(o,0,c))),e.push(t)),t=t.nextSibling;return e||o}i.ZP.directive("rebuildOnChange",["$animate",de]);function de(o){return{multiElement:!0,terminal:!0,transclude:!0,priority:600,restrict:"E",link:(t,r,e,c,p)=>{let m,E,S;function T(){S&&(S.remove(),S=null),E&&(E.$destroy(),E=null),m&&(S=he(m.clone),o.leave(S).then(()=>{S=null}),m=null)}t.$watch(e.property,function(w,O){E&&w!==O&&T(),!E&&(w||e.showNull)?p((D,G)=>{E=G,D[D.length++]=document.createComment(" end rebuild on change "),m={clone:D},o.enter(D,r.parent(),r)}):T()})}}}i.ZP.directive("giveFocus",()=>(o,t,r)=>{t.click(e=>{e.stopPropagation()}),o.$watch(r.giveFocus,e=>{e&&setTimeout(()=>{t.focus();const c=t[0];if(c.setSelectionRange){const p=t.val().length*2;c.setSelectionRange(p,p)}},200)},!0)});const ci={};class pe{constructor(){const t=()=>{};this.observer=new MutationObserver(t);const r={attributes:!0,attributeFilter:["class"],characterData:!1,childList:!0,subtree:!1};this.observer.observe(b().element(".delta-html")[0],r)}$onDestroy(){this.observer.disconnect()}}function fe(){return{controller:pe,replace:!1,restrict:"A"}}i.ZP.directive("diffDelta",fe);class Zt{constructor(t,r,e){this.$scope=t,this.$rootScope=r,this.$anchorScroll=e}goToLine(t){let r;const e=()=>{this.$anchorScroll(`l${t}`),r()};this.$scope.switchView().then(()=>{r=this.$rootScope.$on("json-diff-ready",e.bind(this))})}}Zt.$inject=["$scope","$rootScope","$anchorScroll"];function me(){return{controller:Zt,controllerAs:"ctrl",replace:!0,restrict:"E",scope:{line:"@lineDisplay",link:"@lineLink",switchView:"&"},template:'<a class="diff-linenum btn btn-inverse btn-small" ng-click="ctrl.goToLine(link)">Line {{ line }}</a>'}}i.ZP.directive("diffLinkJson",me);function ge(){"use strict";return{restrict:"A",require:"ngModel",link:(o,t,r,e)=>{function c(m){return(m||"").split(",")}function p(m){return(0,x.isArray)(m)?(m||"").join(","):m}e.$parsers.push(c),e.$formatters.push(p)}}}i.ZP.directive("arrayJoin",ge);var Kt=l(3587),Ot=l(12190),ve=l(28409),ye=l(69360),be=l(33312),we=l(61805),Ce=l(84415),Ee=l(86467),xe=l(3782),Te=l(36210),Se=l(32688),Pe=l(3793);function vt(o,t,r){i.ZP.directive(o,["reactDirective",e=>e((0,Pe.E)(t,Se.config.theme2),r)])}var Ae=l(67979),De=l(30265),ke=l(32231),$e=l(11906),Me=l(85806),Dt=l(41407),Oe=l(22784),Le=l(77804),Qt=l(82803),Gt=l(41730),Jt=l(28888);const Ie=o=>{const[t,r]=(0,B.useState)(null),e=o.type==="submenu",c=(0,Qt.wW)(Ne),p=o.iconClassName?(0,Gt.toIconName)(o.iconClassName):void 0;switch(o.type){case"divider":return B.createElement("li",{className:"divider"});case"group":return B.createElement("li",null,B.createElement("span",{className:c.groupLabel},o.text));default:return B.createElement("li",{className:e?`dropdown-submenu ${Re(t)}`:void 0,ref:r,"data-testid":Jt.wl.components.Panels.Panel.menuItems(o.text)},B.createElement("a",{onClick:o.onClick,href:o.href,role:"menuitem"},p&&B.createElement(Ot.J,{name:p,className:c.menuIconClassName}),B.createElement("span",{className:"dropdown-item-text","aria-label":Jt.wl.components.Panels.Panel.headerItems(o.text)},o.text,e&&B.createElement(Ot.J,{name:"angle-right",className:c.shortcutIconClassName})),o.shortcut&&B.createElement("span",{className:"dropdown-menu-item-shortcut"},B.createElement(Ot.J,{name:"keyboard",className:c.menuIconClassName})," ",o.shortcut)),o.children)}};function Re(o){if(!o)return"invisible";const t=o.parentElement.getBoundingClientRect(),r=o.getBoundingClientRect();return r.width===0?"invisible":t.right+r.width+10>window.innerWidth?"pull-left":"pull-right"}function Ne(o){return{menuIconClassName:(0,Dt.css)({marginRight:o.spacing(1),"a::after":{display:"none"}}),shortcutIconClassName:(0,Dt.css)({position:"absolute",top:"7px",right:o.spacing(.5),color:o.colors.text.secondary}),groupLabel:(0,Dt.css)({color:o.colors.text.secondary,fontSize:o.typography.size.sm,padding:o.spacing(.5,1)})}}var Fe=l(44813),We=l(42367);const Be=({children:o,customCss:t})=>{if(!o||o.length===0)return null;const r=o.find(e=>e.active===!0);return B.createElement("div",{className:`gf-form-select-wrapper width-20 ${t}`},B.createElement("div",{className:"dropdown"},B.createElement("button",{type:"button",className:"gf-form-input dropdown-toggle","data-toggle":"dropdown",style:{textAlign:"left"}},r?.text),B.createElement("ul",{role:"menu",className:"dropdown-menu dropdown-menu--menu"},o.map(e=>e.hideFromTabs?null:B.createElement(Ie,{key:e.url,iconClassName:e.icon,text:e.text,href:e.url})))))},Ue=({children:o})=>!o||o.length===0?null:B.createElement("nav",null,B.createElement(Be,{customCss:"page-header__select-nav"},o),B.createElement(Oe.J,{className:"page-header__tabs",hideBorder:!0},o.map((t,r)=>!t.hideFromTabs&&B.createElement(Le.O,{label:t.text,active:t.active,key:`${t.url}-${r}`,icon:t.icon,href:t.url,suffix:t.tabSuffix})))),ze=({navItem:o,renderTitle:t,actions:r,info:e,subTitle:c})=>{const p=(0,Qt.wW)(He);if(!o)return null;const m=E=>{const S=E.icon==="grafana"?12:14,T=E.icon&&(0,Gt.toIconName)(E.icon),I=c??E.subTitle;return B.createElement("div",{className:"page-header__inner"},B.createElement("span",{className:"page-header__logo"},T&&B.createElement(Ot.J,{name:T,size:"xxxl",style:{marginTop:S}}),E.img&&B.createElement("img",{className:"page-header__img",src:E.img,alt:""})),B.createElement("div",{className:(0,Dt.cx)("page-header__info-block",p.headerText)},t?t(E.text):Ve(E.text,E.highlightText),e&&B.createElement(Fe.S,{info:e}),I&&B.createElement("div",{className:"page-header__sub-title"},I),r&&B.createElement("div",{className:p.actions},r)))};return B.createElement("div",{className:p.headerCanvas},B.createElement("div",{className:"page-container"},B.createElement("div",{className:"page-header"},m(o),o.children&&o.children.length>0&&B.createElement(Ue,null,o.children))))};function Ve(o,t){return o?B.createElement("h1",{className:"page-header__title"},o,t&&B.createElement(We.Z,{text:t,className:(0,Dt.css)`
            vertical-align: middle;
          `})):null}const He=o=>({actions:(0,Dt.css)({display:"flex",flexDirection:"row",gap:o.spacing(1)}),headerText:(0,Dt.css)({display:"flex",flexDirection:"column",gap:o.spacing(1)}),headerCanvas:(0,Dt.css)`
    background: ${o.colors.background.canvas};
  `}),{Select:je}=Kt.LegacyForms,Ze=o=>{const{value:t,placeholder:r,className:e,isSearchable:c,onChange:p}=o,m=Ke(o),E=Qe(m,t),S=(0,B.useCallback)(T=>p(T.value),[p]);return B.createElement(je,{className:e,isMulti:!1,isClearable:!1,backspaceRemovesValue:!1,onChange:S,options:m,isSearchable:c,maxMenuHeight:500,placeholder:r,noOptionsMessage:()=>"No options found",value:E})},Ke=({variables:o=[],options:t})=>(0,B.useMemo)(()=>!Array.isArray(o)||o.length===0?t:[{label:"Template Variables",options:o.map(({name:r})=>({label:`$${r}`,value:`$${r}`}))},...t],[o,t]),Qe=(o,t)=>(0,B.useMemo)(()=>(o.every(e=>e.options)?(0,x.flatten)(o.map(e=>e.options)):o).find(e=>e.value===t),[o,t]);var Ge=l(40835),Je=l(65963);const{SecretFormField:Xe}=Kt.LegacyForms;function Ye(){vt("footer",Me.$_,[]),vt("icon",Ot.J,["name","size","type",["onClick",{watchDepth:"reference",wrapApply:!0}]]),vt("spinner",ve.$,["inline"]),vt("helpModal",Je.B,[]),vt("pageHeader",ze,["model","noTabs"]),vt("emptyListCta",$e.Z,["title","buttonIcon","buttonLink","buttonTitle",["onClick",{watchDepth:"reference",wrapApply:!0}],"proTip","proTipLink","proTipLinkTitle","proTipTarget","infoBox","infoBoxTitle"]),vt("tagFilter",Ge.D,["tags",["onChange",{watchDepth:"reference"}],["tagOptions",{watchDepth:"reference"}]]),vt("colorPicker",ye.zH,["color",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("seriesColorPickerPopover",be.q,["color","series","onColorChange","onToggleAxis"]),vt("unitPicker",we.n,["value","width",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("metricSelect",Ze,["options","onChange","value","isSearchable","className","placeholder",["variables",{watchDepth:"reference"}]]),vt("cloudMonitoringQueryEditor",ke.W,["target","onQueryChange","onExecuteQuery",["events",{watchDepth:"reference"}],["datasource",{watchDepth:"reference"}],["templateSrv",{watchDepth:"reference"}]]),vt("secretFormField",Xe,["value","isConfigured","inputWidth","labelWidth","aria-label",["onReset",{watchDepth:"reference",wrapApply:!0}],["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("graphContextMenu",Ce.w,["x","y","itemsGroup",["onClose",{watchDepth:"reference",wrapApply:!0}],["getContextMenuSource",{watchDepth:"reference",wrapApply:!0}],["timeZone",{watchDepth:"reference",wrapApply:!0}]]),vt("drilldownLinksEditor",Ee.d,["value","links","suggestions",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("datasourceHttpSettingsNext",xe.E,["defaultUrl","showAccessOptions","dataSourceConfig","showForwardOAuthIdentityOption",["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("folderPicker",Ae.Fz,["labelClass","rootName","enableCreateNew","enableReset","initialTitle","initialFolderId","dashboardId","onCreateFolder",["enterFolderCreation",{watchDepth:"reference",wrapApply:!0}],["exitFolderCreation",{watchDepth:"reference",wrapApply:!0}],["onLoad",{watchDepth:"reference",wrapApply:!0}],["onChange",{watchDepth:"reference",wrapApply:!0}]]),vt("timePickerSettings",De.P,["renderCount","refreshIntervals","timePickerHidden","nowDelay","timezone",["onTimeZoneChange",{watchDepth:"reference",wrapApply:!0}],["onRefreshIntervalChange",{watchDepth:"reference",wrapApply:!0}],["onNowDelayChange",{watchDepth:"reference",wrapApply:!0}],["onHideTimePickerChange",{watchDepth:"reference",wrapApply:!0}]]),vt("clipboardButton",Te.m,[["getText",{watchDepth:"reference",wrapApply:!0}]])}var Ut=l(30476);const qe=`
<div class="dropdown cascade-open">
<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.def.type}}</a>
<span>(</span><span class="query-part-parameters"></span><span>)</span>
<ul class="dropdown-menu">
  <li ng-repeat="action in partActions">
    <a ng-click="triggerPartAction(action)">{{action.text}}</a>
  </li>
</ul>
`;i.ZP.directive("queryPartEditor",["templateSrv",_e]);function _e(o){const t='<input type="text" class="hide input-mini tight-form-func-param"></input>';return{restrict:"E",template:qe,scope:{part:"=",handleEvent:"&",debounce:"@"},link:function(e,c){const p=e.part,m=p.def,E=c.find(".query-part-parameters"),S=e.debounce;e.partActions=[];function T(F){const _=M()(this),J=_.next();J.val(p.params[F]),J.css("width",_.width()+16+"px"),_.hide(),J.show(),J.focus(),J.select();const it=J.data("typeahead");it&&(J.val(""),it.lookup())}function I(F){const _=M()(this),J=_.prev(),it=_.val();(it!==""||p.def.params[F].optional)&&(J.html(o.highlightVariablesAsHtml(it)),p.updateParam(_.val(),F),e.$apply(()=>{e.handleEvent({$event:{name:"part-param-changed"}})})),_.hide(),J.show()}function w(F,_){_.which===13&&I.call(this,F)}function O(){this.style.width=(3+this.value.length)*8+"px"}function D(F,_,J){if(!_.options&&!_.dynamicLookup)return;const it=(yt,Et)=>{if(_.options){let Ct=_.options;return _.type==="int"&&(Ct=(0,x.map)(Ct,It=>It.toString())),Ct}e.$apply(()=>{e.handleEvent({$event:{name:"get-param-options"}}).then(Ct=>{const It=(0,x.map)(Ct,kt=>(0,x.escape)(kt.value));Et(It)})})};F.attr("data-provide","typeahead"),F.typeahead({source:it,minLength:0,items:1e3,updater:yt=>(yt=(0,x.unescape)(yt),setTimeout(()=>{I.call(F[0],J)},0),yt)});const ct=F.data("typeahead");ct.lookup=function(){this.query=this.$element.val()||"";const yt=this.source(this.query,M().proxy(this.process,this));return yt&&this.process(yt)},S&&(ct.lookup=(0,x.debounce)(ct.lookup,500,{leading:!0}))}e.showActionsMenu=()=>{(0,Ut.E)(e)(e.handleEvent({$event:{name:"get-part-actions"}}).then(F=>{e.partActions=F}))},e.triggerPartAction=F=>{e.handleEvent({$event:{name:"action",action:F}})};function G(){(0,x.each)(m.params,(F,_)=>{if(F.optional&&p.params.length<=_)return;_>0&&M()("<span>, </span>").appendTo(E);const J=o.highlightVariablesAsHtml(p.params[_]),it=M()('<a class="graphite-func-param-link pointer">'+J+"</a>"),ct=M()(t);it.appendTo(E),ct.appendTo(E),ct.blur((0,x.partial)(I,_)),ct.keyup(O),ct.keypress((0,x.partial)(w,_)),it.click((0,x.partial)(T,_)),D(ct,F,_)})}function ht(){E.empty(),G()}ht()}}}function tn(o){let t=this.query;return t===""?!0:(t[0]==="/"&&(t=t.substring(1)),t[t.length-1]==="/"&&(t=t.substring(0,t.length-1)),o.toLowerCase().match(t.toLowerCase()))}class Xt{constructor(t,r,e,c){this.$scope=t,this.$sce=e,this.templateSrv=c,this.inputElement=r.find("input").first(),this.linkElement=r.find("a").first(),this.linkMode=!0,this.cancelBlur=null,this.labelMode=!1,this.lookupText=!1,this.debounce=!1,t.$watch("ctrl.model",this.modelChanged.bind(this))}$onInit(){this.labelMode?this.cssClasses="gf-form-label "+this.cssClass:this.cssClasses="gf-form-input gf-form-input--dropdown "+this.cssClass,this.placeholder&&this.inputElement.attr("placeholder",this.placeholder),this.inputElement.attr("data-provide","typeahead"),this.inputElement.typeahead({source:this.typeaheadSource.bind(this),minLength:0,items:1e4,updater:this.typeaheadUpdater.bind(this),matcher:tn});const t=this.inputElement.data("typeahead");t.lookup=function(){this.query=this.$element.val()||"",this.source(this.query,this.process.bind(this))},this.debounce&&(t.lookup=(0,x.debounce)(t.lookup,500,{leading:!0})),this.linkElement.keydown(r=>{(r.keyCode===40||r.keyCode===13)&&this.linkElement.click()}),this.inputElement.keydown(r=>{r.keyCode===13&&setTimeout(()=>{this.inputElement.blur()},300)}),this.inputElement.blur(this.inputBlur.bind(this)),this.startOpen&&setTimeout(this.open.bind(this),0)}getOptionsInternal(t){return(0,Ut.E)(this.$scope)(Promise.resolve(this.getOptions({$query:t})))}isPromiseLike(t){return t&&typeof t.then=="function"}modelChanged(){(0,x.isObject)(this.model)?this.updateDisplay(this.model.text):this.lookupText?this.getOptionsInternal("").then(t=>{const r=(0,x.find)(t,{value:this.model});this.updateDisplay(r?r.text:this.model)}):this.updateDisplay(this.model)}typeaheadSource(t,r){this.getOptionsInternal(t).then(e=>{this.optionCache=e;const c=(0,x.map)(e,p=>(0,x.escape)(p.text));this.allowCustom&&this.text!==""&&(0,x.indexOf)(c,this.text)===-1&&c.unshift(this.text),r(c)})}typeaheadUpdater(t){return t===this.text?(clearTimeout(this.cancelBlur),this.inputElement.focus(),t):(this.inputElement.val(t),this.switchToLink(!0),t)}switchToLink(t){this.linkMode&&!t||(clearTimeout(this.cancelBlur),this.cancelBlur=null,this.linkMode=!0,this.inputElement.hide(),this.linkElement.show(),this.updateValue(this.inputElement.val()))}inputBlur(){this.cancelBlur=setTimeout(this.switchToLink.bind(this),200)}updateValue(t){t=(0,x.unescape)(t),!(t===""||this.text===t)&&this.$scope.$apply(()=>{const r=(0,x.find)(this.optionCache,{text:t});r?((0,x.isObject)(this.model)?this.model=r:this.model=r.value,this.text=r.text):this.allowCustom&&((0,x.isObject)(this.model)?this.model.text=this.model.value=t:this.model=t,this.text=t),this.$scope.$$postDigest(()=>{this.$scope.$apply(()=>{this.onChange({$option:r})})})})}updateDisplay(t){this.text=t,this.display=this.$sce.trustAsHtml(this.templateSrv.highlightVariablesAsHtml(t))}open(){this.inputElement.css("width",Math.max(this.linkElement.width(),80)+16+"px"),this.inputElement.show(),this.inputElement.focus(),this.linkElement.hide(),this.linkMode=!1;const t=this.inputElement.data("typeahead");t&&(this.inputElement.val(""),t.lookup())}}Xt.$inject=["$scope","$element","$sce","templateSrv"];const en=`
<input type="text"
  data-provide="typeahead"
  class="gf-form-input"
  spellcheck="false"
  style="display:none">
</input>
<a ng-class="ctrl.cssClasses"
   tabindex="1"
   ng-click="ctrl.open()"
   give-focus="ctrl.focus"
   ng-bind-html="ctrl.display || '&nbsp;'">
</a>
`;function nn(){return{restrict:"E",template:en,controller:Xt,bindToController:!0,controllerAs:"ctrl",scope:{model:"=",getOptions:"&",onChange:"&",cssClass:"@",allowCustom:"@",labelMode:"@",lookupText:"@",placeholder:"@",startOpen:"@",debounce:"@"}}}i.ZP.directive("gfFormDropdown",nn);const rn=`
<div class="baron__track">
  <div class="baron__bar"></div>
</div>
`,on="baron baron__root",sn="baron__scroller";function an(){return{restrict:"A",link:(o,t,r)=>{let e=t.parent();const c=t;r.grafanaScrollbar&&r.grafanaScrollbar==="scrollonroot"&&(e=c),e.addClass(on),M()(rn).appendTo(e),t.addClass(sn);const p={root:e[0],scroller:c[0],bar:".baron__bar",barOnCls:"_scrollbar",scrollingCls:"_scrolling",track:".baron__track",direction:"v"},m=s()(p);o.$on("$destroy",()=>{m.dispose()})}}}i.ZP.directive("grafanaScrollbar",an);var ln=l(72202);i.ZP.directive("jsonTree",[function(){return{restrict:"E",scope:{object:"=",startExpanded:"@",rootName:"@"},link:(t,r)=>{let e=t.startExpanded;t.startExpanded==="true"?e=2:t.startExpanded==="false"&&(e=1);const c={[t.rootName]:t.object},m=new ln.u(c,e,{animateOpen:!0}).render(!0);r.append(m)}}}]);const cn=`
<label for="check-{{ctrl.id}}" class="gf-form-switch-container">
  <div class="gf-form-label {{ctrl.labelClass}}" ng-show="ctrl.label">
    {{ctrl.label}}
    <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">
      {{ctrl.tooltip}}
    </info-popover>
  </div>
  <div class="gf-form-switch {{ctrl.switchClass}}" ng-if="ctrl.show">
    <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">
    <span class="gf-form-switch__slider"></span>
  </div>
</label>
`,un=`
<label for="check-{{ctrl.id}}" class="gf-form-switch-container">
   <div class="gf-form-label {{ctrl.labelClass}}" ng-show="ctrl.label">
    {{ctrl.label}}
    <info-popover mode="right-normal" ng-if="ctrl.tooltip" position="top center">
      {{ctrl.tooltip}}
    </info-popover>
  </div>
  <div class="gf-form-checkbox {{ctrl.switchClass}}" ng-if="ctrl.show">
    <input id="check-{{ctrl.id}}" type="checkbox" ng-model="ctrl.checked" ng-change="ctrl.internalOnChange()">
    <span class="gf-form-switch__checkbox"></span>
  </div>
</label>
`;class zt{constructor(t,r){this.$timeout=r,this.show=!0,this.id=t.$id}internalOnChange(){return this.$timeout(()=>this.onChange())}}zt.$inject=["$scope","$timeout"];function hn(){return{restrict:"E",controller:zt,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:cn}}function dn(){return{restrict:"E",controller:zt,controllerAs:"ctrl",bindToController:!0,scope:{checked:"=",label:"@",labelClass:"@",tooltip:"@",switchClass:"@",onChange:"&"},template:un}}i.ZP.directive("gfFormSwitch",hn),i.ZP.directive("gfFormCheckbox",dn);function pn(){return{restrict:"E",template:`<icon name="'info-circle'" style="margin-left: 10px;" size="'xs'"></icon>`,transclude:!0,link:(o,t,r,e,c)=>{const p=r.offset||"0 -10px",m=r.position||"right middle";let E="drop-help drop-hide-out-of-bounds";const S="hover";t.addClass("gf-form-help-icon"),r.wide&&(E+=" drop-wide"),r.mode&&t.addClass("gf-form-help-icon--"+r.mode),c((T,I)=>{const w=document.createElement("div");w.className="markdown-html",(0,x.each)(T,D=>{w.appendChild(D)});const O={target:t[0],content:w,position:m,classes:E,openOn:S,hoverOpenDelay:400,tetherOptions:{offset:p,constraints:[{to:"window",attachment:"together",pin:!0}]}};o.$applyAsync(()=>{const D=new(et())(O),G=o.$on("$destroy",()=>{D.destroy(),G()})})})}}}i.ZP.directive("infoPopover",pn),i.ZP.directive("spectrumPicker",fn);function fn(){return{restrict:"E",require:"ngModel",scope:!0,replace:!0,template:'<color-picker color="ngModel.$viewValue" on-change="onColorChange"></color-picker>',link:(o,t,r,e)=>{o.ngModel=e,o.onColorChange=c=>{e.$setViewValue(c)}}}}var Mt=l(50820);const mn="ace/theme/grafana-dark",gn="ace/theme/textmate",vn="text",yn=10,bn=2,wn=!0,Cn=!0,En="<div></div>";async function xn(o,t,r){const e=r.mode||vn,c=r.maxLines||yn,p=r.showGutter!==void 0,m=r.tabSize||bn,E=r.behavioursEnabled?r.behavioursEnabled==="true":wn,S=r.snippetsEnabled?r.snippetsEnabled==="true":Cn,T=t.get(0),{default:I}=await l.e(5673).then(l.t.bind(l,58398,23));await l.e(557).then(l.t.bind(l,90557,23)),await l.e(7946).then(l.t.bind(l,27946,23)),await l.e(6098).then(l.t.bind(l,36098,23)),await l.e(7914).then(l.t.bind(l,7914,23)),await l.e(4934).then(l.t.bind(l,64934,23)),await l.e(5808).then(l.t.bind(l,55808,23)),await l.e(1669).then(l.t.bind(l,50464,23)),await l.e(8520).then(l.t.bind(l,8520,23)),await l.e(3154).then(l.t.bind(l,73154,23)),await l.e(9720).then(l.t.bind(l,9720,23)),await l.e(7093).then(l.t.bind(l,31026,23)),await l.e(9057).then(l.t.bind(l,69057,23)),await l.e(7428).then(l.t.bind(l,23299,23));const w=I.edit(T),O=w.getSession(),D={maxLines:c,showGutter:p,tabSize:m,behavioursEnabled:E,highlightActiveLine:!1,showPrintMargin:!1,autoScrollEditorIntoView:!0};w.setOptions(D),w.$blockScrolling=1/0,w.renderer.setScrollMargin(10,10),w.renderer.setPadding(10),F(),ht(e),_(o.content),t.addClass("gf-code-editor");const G=t.find("textarea");G.addClass("gf-form-input"),G.attr("aria-label",r.textareaLabel),o.codeEditorFocus&&setTimeout(()=>{G.focus();const J=G[0];if(J.setSelectionRange){const it=G.val().length*2;J.setSelectionRange(it,it)}},100),O.on("change",J=>{o.$apply(()=>{const it=w.getValue();o.content=it})}),o.$watch("content",(J,it)=>{const ct=w.getValue();J!==ct&&J!==it&&o.$$postDigest(()=>{_(J)})}),w.on("blur",()=>{o.onChange()}),o.$on("$destroy",()=>{w.destroy()}),w.commands.addCommand({name:"executeQuery",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:()=>{o.onChange()}});function ht(J){if(I.acequire("ace/ext/language_tools"),w.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:S}),o.getCompleter()){const ct=w;ct.completers=ct.completers.slice(),ct.completers.push(o.getCompleter())}const it=`ace/mode/${J}`;O.setMode(it)}function F(){let J=mn;Mt.default.bootData.user.lightTheme&&(J=gn),w.setTheme(J)}function _(J){w.setValue(J),w.clearSelection()}}function Tn(){return{restrict:"E",template:En,scope:{content:"=",datasource:"=",codeEditorFocus:"<",onChange:"&",getCompleter:"&"},link:xn}}i.ZP.directive("codeEditor",Tn);const Sn=`
<div class="dropdown cascade-open">
<a ng-click="showActionsMenu()" class="query-part-name pointer dropdown-toggle" data-toggle="dropdown">{{part.label}}</a>
<span>{{part.def.wrapOpen}}</span><span class="query-part-parameters"></span><span>{{part.def.wrapClose}}</span>
<ul class="dropdown-menu">
  <li ng-repeat="action in partActions">
    <a ng-click="triggerPartAction(action)">{{action.text}}</a>
  </li>
</ul>
`;i.ZP.directive("sqlPartEditor",["templateSrv",Pn]);function Pn(o){const t='<input type="text" class="hide input-mini"></input>';return{restrict:"E",template:Sn,scope:{part:"=",handleEvent:"&",debounce:"@"},link:function(e,c){const p=e.part,m=p.def,E=c.find(".query-part-parameters"),S=e.debounce;let T=null;e.partActions=[];function I(J){const it=M()(this),ct=it.next();ct.val(p.params[J]),ct.css("width",it.width()+16+"px"),it.hide(),ct.show(),ct.focus(),ct.select();const yt=ct.data("typeahead");yt&&(ct.val(""),yt.lookup())}function w(J,it){T=setTimeout(()=>{O(J,it)},200)}function O(J,it){const ct=J.prev(),yt=J.val();(yt!==""||p.def.params[it].optional)&&(ct.html(o.highlightVariablesAsHtml(yt)),p.updateParam(J.val(),it),e.$apply(()=>{e.handleEvent({$event:{name:"part-param-changed"}})})),J.hide(),ct.show()}function D(J,it){it.which===13&&O(M()(this),J)}function G(){this.style.width=(3+this.value.length)*8+"px"}function ht(J,it,ct){if(!it.options&&!it.dynamicLookup)return;const yt=(Ct,It)=>{if(it.options){let kt=it.options;return it.type==="int"&&(kt=(0,x.map)(kt,Rt=>Rt.toString())),kt}e.$apply(()=>{e.handleEvent({$event:{name:"get-param-options",param:it}}).then(kt=>{const Rt=(0,x.map)(kt,ai=>(0,x.escape)(ai.value));(0,x.indexOf)(Rt,p.params[ct])===-1&&Rt.unshift((0,x.escape)(p.params[ct])),It(Rt)})})};J.attr("data-provide","typeahead"),J.typeahead({source:yt,minLength:0,items:1e3,updater:Ct=>(Ct=(0,x.unescape)(Ct),Ct===p.params[ct]&&(clearTimeout(T),J.focus()),Ct)});const Et=J.data("typeahead");Et.lookup=function(){this.query=this.$element.val()||"";const Ct=this.source(this.query,M().proxy(this.process,this));return Ct&&this.process(Ct)},S&&(Et.lookup=(0,x.debounce)(Et.lookup,500,{leading:!0}))}e.showActionsMenu=()=>{e.handleEvent({$event:{name:"get-part-actions"}}).then(J=>{e.partActions=J})},e.triggerPartAction=J=>{e.handleEvent({$event:{name:"action",action:J}})};function F(){(0,x.each)(m.params,(J,it)=>{if(J.optional&&p.params.length<=it)return;it>0&&M()("<span>"+m.separator+"</span>").appendTo(E);const ct=o.highlightVariablesAsHtml(p.params[it]),yt=M()('<a class="query-part__link">'+ct+"</a>"),Et=M()(t);yt.appendTo(E),Et.appendTo(E),Et.blur((0,x.partial)(w,Et,it)),Et.keyup(G),Et.keypress((0,x.partial)(D,it)),yt.click((0,x.partial)(I,it)),ht(Et,J,it)})}function _(){E.empty(),F()}_()}}}i.hF.directive("datasourceHttpSettings",()=>({scope:{current:"=",suggestUrl:"@",noDirectAccess:"@",showForwardOAuthIdentityOption:"@"},templateUrl:"public/app/angular/partials/http_settings_next.html",link:{pre:o=>{o.showAccessOption=o.noDirectAccess!=="true",o.onChange=t=>{o.current=t}}}})),i.hF.directive("datasourceTlsAuthSettings",()=>({scope:{current:"="},templateUrl:"public/app/angular/partials/tls_auth_settings.html"}));var Yt=l(13090),Vt=l(56586);i.ZP.directive("pluginComponent",["$compile","$http","$templateCache","$location",An]);function An(o,t,r,e){function c(w){if(w.template)return Promise.resolve(w.template);const O=r.get(w.templateUrl);return O?Promise.resolve(O):t.get(w.templateUrl).then(D=>D.data)}function p(w,O){if(w)return w.indexOf("public")===0?w:O+"/"+w}function m(w){return w.Component.templateUrl=p(w.Component.templateUrl,w.baseUrl),()=>({templateUrl:w.Component.templateUrl,template:w.Component.template,restrict:"E",controller:w.Component,controllerAs:"ctrl",bindToController:!0,scope:w.bindings,link:(O,D,G,ht)=>{ht.link&&ht.link(O,D,G,ht),ht.init&&ht.init()}})}function E(w,O){const D={name:"panel-plugin-"+w.panel.type,bindings:{dashboard:"=",panel:"=",row:"="},attrs:{dashboard:"dashboard",panel:"panel",class:"panel-height-helper"}},G=Mt.default.panels[w.panel.type];return(0,Yt.Ub)(G.id).then(ht=>{const F=ht.angularPanelCtrl;return D.Component=F,!F||F.registered?D:F.templatePromise?F.templatePromise.then(_=>D):(G&&(F.templateUrl=p(F.templateUrl,G.baseUrl)),F.templatePromise=c(F).then(_=>(F.templateUrl=null,F.template=`<grafana-panel ctrl="ctrl" class="panel-height-helper">${_}</grafana-panel>`,{...D,baseUrl:G.baseUrl})),F.templatePromise)})}function S(w,O){switch(O.type){case"query-ctrl":{const D=w.ctrl.datasource;return Promise.resolve({baseUrl:D.meta.baseUrl,name:"query-ctrl-"+D.meta.id,bindings:{target:"=",panelCtrl:"=",datasource:"="},attrs:{target:"ctrl.target","panel-ctrl":"ctrl",datasource:"ctrl.datasource"},Component:D.components.QueryCtrl})}case"annotations-query-ctrl":{const D=w.ctrl.currentDatasource.meta.baseUrl,G=w.ctrl.currentDatasource.meta.id;return(0,Vt.nL)(w.ctrl.currentDatasource.meta).then(ht=>({baseUrl:D,name:"annotations-query-ctrl-"+G,bindings:{annotation:"=",datasource:"="},attrs:{annotation:"ctrl.currentAnnotation",datasource:"ctrl.currentDatasource"},Component:ht.components.AnnotationsQueryCtrl}))}case"datasource-config-ctrl":{const D=w.ctrl.datasourceMeta,G=e.url();return(0,Vt.nL)(D).then(ht=>(w.$watch("ctrl.current",()=>{G===e.url()&&w.onModelChanged(w.ctrl.current)},!0),{baseUrl:D.baseUrl,name:"ds-config-"+D.id,bindings:{meta:"=",current:"="},attrs:{meta:"ctrl.datasourceMeta",current:"ctrl.current"},Component:ht.angularConfigCtrl}))}case"app-config-ctrl":{const D=w.ctrl.model;return(0,Vt.Av)(D).then(G=>({baseUrl:D.baseUrl,name:"app-config-"+D.id,bindings:{appModel:"=",appEditCtrl:"="},attrs:{"app-model":"ctrl.model","app-edit-ctrl":"ctrl"},Component:G.angularConfigCtrl}))}case"panel":return E(w,O);default:return Promise.reject({message:"Could not find component type: "+O.type})}}function T(w,O,D){const G=b().element(document.createElement(D.name));(0,x.each)(D.attrs,(ht,F)=>{G.attr(F,ht)}),o(G)(w),O.empty(),setTimeout(()=>{w.$applyAsync(()=>{O.append(G),setTimeout(()=>{w.$applyAsync(()=>{w.$broadcast(f.Kh.componentDidMount.name)})})})})}function I(w,O,D,G){if(G.notFound){O.empty();return}if(!G.Component)throw{message:"Failed to find exported plugin component for "+G.name};if(!G.Component.registered){const ht=D.$normalize(G.name),F=m(G);i.ZP.directive(ht,F),G.Component.registered=!0}T(w,O,G)}return{restrict:"E",link:(w,O,D)=>{S(w,D).then(G=>{I(w,O,D,G)}).catch(G=>{console.error("Plugin component error",G)})}}}var qt=l(52275),Dn=l(12384),kn=l(14312),Lt=l(28833);class _t{constructor(t,r,e,c,p,m){(0,qt.W)(p),(0,Dn.t)(m),t.init=()=>{t.contextSrv=c,t.appSubUrl=Mt.default.appSubUrl,t._=rt(),r.init()},e.colors=kn.O9,e.onAppEvent=function(E,S,T){let I;typeof E=="string"?I=e.$on(E,S):I=e.$on(E.name,S);let w=this;w.$id===1&&!T&&console.warn("warning rootScope onAppEvent called without localscope"),T&&(w=T),w.$on("$destroy",I)},e.appEvent=(E,S)=>{typeof E=="string"?(e.$emit(E,S),Lt.Z.emit(E,S)):(e.$emit(E.name,S),Lt.Z.emit(E,S))},t.init()}}_t.$inject=["$scope","utilSrv","$rootScope","contextSrv","angularLoader","$injector"];function $n(){return{restrict:"E",controller:_t,link:(o,t)=>{const r=M()("body");M().fn.modal.Constructor.prototype.enforceFocus=()=>{};let e=new Date().getTime(),c=!0;const p=60*5e3;function m(){c&&r.hasClass("page-dashboard")&&new Date().getTime()-e>p&&(c=!1,r.addClass("view-mode--inactive"))}function E(){e=new Date().getTime(),c||(c=!0,r.removeClass("view-mode--inactive"))}r.mousemove(E),r.keydown(E),document.addEventListener("wheel",E,{capture:!0,passive:!0}),document.addEventListener("visibilitychange",E),setInterval(m,2e3),r.click(S=>{const T=M()(S.target);if(T.parents().length===0)return;r.find(".dropdown-menu-open").removeClass("dropdown-menu-open");const I=T.closest("[data-click-hide]");if(I.length){const O=I.parent();I.detach(),setTimeout(()=>{O.append(I)},100)}const w=t.find(".popover");w.length>0&&T.parents(".graph-legend").length===0&&w.hide()})}}}i.ZP.directive("grafanaApp",$n);var ui=l(93391),hi=l(8135),di=l(52581),pi=l(526),Mn=l(79059),On=l(2292),Ln=l(97125),In=l(36861),Rn=l(6278),Nn=l(37860),Fn=l(10522),te=l(13601);class Wn{constructor(){this.$get=()=>{},(0,te.GQ)("Patch angular",!1,"RouteParamsProvider")}}class Bn{constructor(){(0,te.GQ)("Patch angular",!1,"RouteProvider")}$get(){return this}}var Un=l(35896);const zn=()=>{i.hF.config(["$provide",o=>{o.decorator("$browser",["$delegate",t=>(t.onUrlChange=()=>{},t.url=()=>"",t)])}])},Vn=()=>{i.hF.config(["$provide",o=>{o.decorator("$location",["$delegate",t=>(t=new Un.O,t)])}]),i.hF.provider("$route",Bn),i.hF.provider("$routeParams",Wn)};function Hn(){zn(),Vn()}function jn(o){o.oldInvoke=o.invoke,o.invoke=(t,r,e,c)=>{const p=e?.$scope?.$parent;return p&&(p.panel&&(r.panel=p.panel),p.dashboard&&(r.dashboard=p.dashboard),p.ctrl?.target&&(r.panelCtrl=p.ctrl,r.datasource=p.ctrl.datasource,r.target=p.ctrl.target),p.ctrl?.datasourceMeta&&(r.meta=p.ctrl.datasourceMeta,r.current=p.ctrl.current),p.ctrl?.currentAnnotation&&(r.annotation=p.ctrl.currentAnnotation,r.datasource=p.ctrl.currentDatasource),p.isAppConfigCtrl&&(r.appEditCtrl=p.ctrl,r.appModel=p.ctrl.model),p.$parent?.$parent?.ctrl?.appModel&&(r.appModel=p.$parent?.$parent?.ctrl?.appModel)),o.oldInvoke(t,r,e,c)}}var Zn=l(56989),Kn=l(91395);function Qn(o){return function(r){const e=(0,B.useRef)(null),c=(0,B.useRef)(),p=(0,B.useRef)();return(0,B.useEffect)(()=>{if(!e.current)return;const m=(0,qt.w)(),E='<plugin-component type="panel" class="panel-height-helper"></plugin-component>',S=new Jn,T=new Gn(o,r,S);c.current={panel:T,dashboard:getDashboardSrv().getCurrent(),size:{width:r.width,height:r.height},queryRunner:S},p.current=m.load(e.current,c.current,E)},[]),(0,B.useEffect)(()=>{p.current&&(c.current.size.height=r.height,c.current.size.width=r.width,c.current.panel.events.publish(new u._z))},[r.width,r.height]),(0,B.useEffect)(()=>{c.current?.panel&&c.current.queryRunner.forwardNewData(r.data)},[r.data]),B.createElement("div",{ref:e,className:"panel-height-helper"})}}class Gn{constructor(t,r,e){r.options.angularOptions&&Object.assign(this,r.options.angularOptions),this.id=r.id,this.type=t.meta.id,this.title=r.title,this.fieldConfig=r.fieldConfig,this.options=r.options,this.plugin=t,this.events=new Kn.F,this.queryRunner=e}refresh(){this.events.publish(new y.U5)}render(){this.events.publish(new u._z)}getQueryRunner(){return this.queryRunner}}class Jn{constructor(){this.subject=new Zn.t(1)}getData(t){return this.subject}forwardNewData(t){this.subject.next(t)}run(){}}var Xn=l(4148),Yn=l(26205),qn=l(21308),_n=l(97433),ti=l(17712),ei=l(84278),St=l(14255);class ni{constructor(){}init(){Lt.h.subscribe(u.le,t=>this.showModal(t.payload)),Lt.h.subscribe(u.OW,this.hideModal.bind(this))}hideModal(){(0,St.d)("UtilSrv","hideModal",""),this.modalScope&&this.modalScope.dismiss&&this.modalScope.dismiss()}showModal(t){(0,St.d)("UtilSrv","showModal","publish ShowModalReactEvent")}}var Ht=l(7376);class ii{clearPromiseCaches(){(0,St.d)("annotations_srv.ts","clearPromiseCaches","DashboardQueryRunner")}getAnnotations(t){return(0,St.d)("annotations_srv.ts","getAnnotations","DashboardQueryRunner.getResult"),Promise.resolve({annotations:[],alertState:void 0})}getAlertStates(t){return(0,St.d)("annotations_srv.ts","getAlertStates","DashboardQueryRunner.getResult"),Promise.resolve(void 0)}getGlobalAnnotations(t){return(0,St.d)("annotations_srv.ts","getGlobalAnnotations","DashboardQueryRunner.getResult"),Promise.resolve([])}saveAnnotationEvent(t){return(0,St.d)("annotations_srv.ts","saveAnnotationEvent","api/saveAnnotation"),(0,Ht.xD)(t)}updateAnnotationEvent(t){return(0,St.d)("annotations_srv.ts","updateAnnotationEvent","api/updateAnnotation"),(0,Ht._E)(t)}deleteAnnotationEvent(t){return(0,St.d)("annotations_srv.ts","deleteAnnotationEvent","api/deleteAnnotation"),(0,Ht.Dl)(t)}translateQueryResult(t,r){(0,St.d)("annotations_srv.ts","translateQueryResult","DashboardQueryRunner/utils/translateQueryResult"),t.snapshotData&&(t=(0,x.cloneDeep)(t),delete t.snapshotData);for(const e of r)e.source=t,e.color=t.iconColor,e.type=t.name,e.isRegion=e.timeEnd&&e.time!==e.timeEnd;return r}}function ri(){i.ZP.factory("backendSrv",()=>(0,Xn.i)()),i.ZP.factory("contextSrv",()=>qn.Vt),i.ZP.factory("dashboardSrv",()=>(0,_n.h4)()),i.ZP.factory("datasourceSrv",()=>(0,Yn.F)()),i.ZP.factory("linkSrv",()=>(0,ei.Bq)()),i.ZP.factory("validationSrv",()=>ti.t),i.ZP.service("annotationsSrv",ii),i.ZP.service("utilSrv",ni)}const oi={angular:{...b(),default:b()},"app/core/core_module":{default:i.hF,__useDefault:!0},"app/core/core":{appEvents:Lt.Z,contextSrv:Ln.contextSrv,coreModule:i.hF},"app/plugins/sdk":Fn,"app/core/utils/promiseToDigest":{promiseToDigest:Ut.E}};class si{constructor(){this.preBootModules=[],this.ngModuleDependencies=[],this.registerFunctions={}}init(){const t=b().module("grafana",[]);(0,Yt.wG)(Qn),t.config(["$controllerProvider","$compileProvider","$filterProvider","$httpProvider","$provide","$sceDelegateProvider",(e,c,p,m,E,S)=>{Mt.config.buildInfo.env!=="development"&&c.debugInfoEnabled(!1),m.useApplyAsync(!0),Mt.config.pluginsCDNBaseURL&&S.trustedResourceUrlList(["self",`${Mt.config.pluginsCDNBaseURL}/**`]),this.registerFunctions.controller=e.register,this.registerFunctions.directive=c.directive,this.registerFunctions.factory=E.factory,this.registerFunctions.service=E.service,this.registerFunctions.filter=p.register,E.decorator("$http",["$delegate","$templateCache",(T,I)=>{const w=T.get;return T.get=(O,D)=>(O.match(/\.html$/)&&(I.get(O)||(O+="?v="+new Date().getTime())),w(O,D)),T}])}]),this.ngModuleDependencies=["grafana.core","ngSanitize","grafana","pasvaz.bindonce","react"],i.rb.forEach(e=>{this.useModule(e)}),b().module("grafana.services").service("dashboardLoaderSrv",In.Bg),i.hF.factory("timeSrv",()=>(0,Rn.$t)()),i.hF.factory("templateSrv",()=>(0,Mn.J)()),Ye(),ri(),Hn();const r=(0,Nn.t)(oi);On.i3.addImportMap({imports:r}),$.fn.tooltip.defaults.animation=!1}useModule(t){return this.preBootModules?this.preBootModules.push(t):(0,x.extend)(t,this.registerFunctions),this.ngModuleDependencies.push(t.name),t}bootstrap(){const t=b().bootstrap(document.getElementById("ngRoot"),this.ngModuleDependencies);return jn(t),t.invoke(()=>(this.preBootModules.forEach(r=>{(0,x.extend)(r,this.registerFunctions)}),()=>{})),t}}},65395:(a,C,l)=>{"use strict";l.d(C,{k:()=>v});var n=l(86832),s=l.n(n),h=l(10694),f=l(53305),y=l(71519),i=l(68756),u=l(30093);class v extends i.q{constructor(g,b){super(g,b),this.skipDataOnInit=!1,this.dataList=[],this.useDataFrames=!1,this.panelDataObserver={next:z=>{if(this.panelData=z,z.state===h.Gu.Error&&(this.loading=!1,this.processDataError(z.error)),z.state===h.Gu.Loading){this.loading=!0,this.angularDirtyCheck();return}if(z.request){const{timeInfo:Y}=z.request;Y&&(this.timeInfo=Y)}if(z.timeRange&&(this.range=z.timeRange),this.useDataFrames)this.handleDataFrames(z.series);else{const Y=z.series.map(H=>(0,f.Zr)(H));this.handleQueryResult({data:Y})}this.angularDirtyCheck()}},this.contextSrv=b.get("contextSrv"),this.datasourceSrv=b.get("datasourceSrv"),this.timeSrv=b.get("timeSrv"),this.templateSrv=b.get("templateSrv"),this.panel.datasource=this.panel.datasource||null,this.events.on(y.Kh.refresh,this.onMetricsPanelRefresh.bind(this)),this.events.on(y.Kh.panelTeardown,this.onPanelTearDown.bind(this)),this.events.on(y.Kh.componentDidMount,this.onMetricsPanelMounted.bind(this))}onMetricsPanelMounted(){const g=this.panel.getQueryRunner();this.querySubscription=g.getData({withTransforms:!0,withFieldConfig:!0}).subscribe(this.panelDataObserver)}onPanelTearDown(){this.querySubscription&&(this.querySubscription.unsubscribe(),this.querySubscription=null)}onMetricsPanelRefresh(){if(!this.otherPanelInFullscreenMode()){if(this.panel.snapshotData){this.updateTimeRange();let g=this.panel.snapshotData;return(0,n.isArray)(g)||(g=g.data),this.panelData={state:h.Gu.Done,series:g,timeRange:this.range},this.$timeout(()=>{this.events.emit(y.Kh.dataSnapshotLoad,g)})}return delete this.error,this.loading=!0,this.datasourceSrv.get(this.panel.datasource,this.panel.scopedVars).then(this.issueQueries.bind(this)).catch(g=>{this.processDataError(g)})}}processDataError(g){if(g.cancelled){console.log("Panel request cancelled",g);return}this.error=g.message||"Request Error",g.data&&(g.data.message?this.error=g.data.message:g.data.error&&(this.error=g.data.error)),this.angularDirtyCheck()}angularDirtyCheck(){this.$scope.$root.$$phase||this.$scope.$digest()}updateTimeRange(g){this.datasource=g||this.datasource,this.range=this.timeSrv.timeRange();const b=(0,u.W1)(this.panel,this.range);this.timeInfo=b.timeInfo,this.range=b.timeRange}issueQueries(g){this.updateTimeRange(g),this.datasource=g;const b=this.panel;return b.getQueryRunner().run({datasource:b.datasource,queries:b.targets,panelId:b.id,dashboardUID:this.dashboard.uid,timezone:this.dashboard.getTimezone(),timeInfo:this.timeInfo,timeRange:this.range,maxDataPoints:b.maxDataPoints||this.width,minInterval:b.interval,scopedVars:b.scopedVars,cacheTimeout:b.cacheTimeout,queryCachingTTL:b.queryCachingTTL,transformations:b.transformations})}handleDataFrames(g){this.loading=!1,this.dashboard&&this.dashboard.snapshot&&(this.panel.snapshotData=g.map(b=>(0,f.og)(b)));try{this.events.emit(y.Kh.dataFramesReceived,g)}catch(b){this.processDataError(b)}}handleQueryResult(g){this.loading=!1,this.dashboard.snapshot&&(this.panel.snapshotData=g.data),(!g||!g.data)&&(console.log("Data source query result invalid, missing data field:",g),g={data:[]});try{this.events.emit(y.Kh.dataReceived,g.data)}catch(b){this.processDataError(b)}}}},68756:(a,C,l)=>{"use strict";l.d(C,{q:()=>v});var n=l(86832),s=l.n(n),h=l(91395),f=l(71519),y=l(35896),i=l(50820),u=l(21308);class v{constructor(g,b){this.pluginName="",this.pluginId="",this.editModeInitiated=!1,this.loading=!1,this.onPluginTypeChange=Y=>{},this.panel=this.panel??g.$parent.panel,this.dashboard=this.dashboard??g.$parent.dashboard,this.$injector=b,this.$scope=g,this.$timeout=b.get("$timeout"),this.editorTabs=[],this.$location=new y.O,this.events=new h.F,this.timing={};const z=i.default.panels[this.panel.type];z&&(this.pluginId=z.id,this.pluginName=z.name),g.$on(f.Kh.componentDidMount.name,()=>this.panelDidMount())}panelDidMount(){this.events.emit(f.Kh.componentDidMount),this.events.emit(f.Kh.initialized),this.dashboard.panelInitialized(this.panel)}renderingCompleted(){u.rv.renderingCompleted()}refresh(){this.panel.refresh()}publishAppEvent(g,b){this.$scope.$root.appEvent(g,b)}initEditMode(){this.editModeInitiated||(this.editModeInitiated=!0,this.events.emit(f.Kh.editModeInitialized))}addEditorTab(g,b,z,Y){const H={title:g,directiveFn:b,icon:Y};(0,n.isString)(b)&&(H.directiveFn=()=>({templateUrl:b})),z?this.editorTabs.splice(z,0,H):this.editorTabs.push(H)}getExtendedMenu(){const g=[];return this.events.emit(f.Kh.initPanelActions,g),g}async getAdditionalMenuItems(){return[]}otherPanelInFullscreenMode(){return this.dashboard.otherPanelInFullscreen(this.panel)}render(g){this.events.emit(f.Kh.render,g)}}},72974:(a,C,l)=>{"use strict";l.d(C,{G:()=>h});var n=l(86832),s=l.n(n);class h{constructor(y,i){this.$scope=y,this.$injector=i,this.panelCtrl=this.panelCtrl??y.ctrl.panelCtrl,this.target=this.target??y.ctrl.target,this.datasource=this.datasource??y.ctrl.datasource,this.panel=this.panelCtrl?.panel??y.ctrl.panelCtrl.panel,this.isLastQuery=(0,n.indexOf)(this.panel.targets,this.target)===this.panel.targets.length-1}refresh(){this.panelCtrl.refresh()}}},53560:(a,C,l)=>{"use strict";let n=l(11461);n.keys().forEach(s=>{n(s)})},30476:(a,C,l)=>{"use strict";l.d(C,{E:()=>n});const n=s=>h=>h.finally(s.$evalAsync)},10522:(a,C,l)=>{"use strict";l.r(C),l.d(C,{MetricsPanelCtrl:()=>u,PanelCtrl:()=>i,QueryCtrl:()=>v,loadPluginCss:()=>s.iS});var n=l(20510),s=l(2292),h=l(65395),f=l(68756),y=l(72974);const i=(0,n.s)(f.q),u=(0,n.s)(h.k),v=(0,n.s)(y.G)},52581:()=>{(function(){"use strict";/**
 * Bindonce - Zero watches binding for AngularJs
 * @version v0.3.1
 * @link https://github.com/Pasvaz/bindonce
 * @author Pasquale Vazzana <pasqualevazzana@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */var a=angular.module("pasvaz.bindonce",[]);a.directive("bindonce",function(){var C=function(s){if(s&&s.length!==0){var h=angular.lowercase(""+s);s=!(h==="f"||h==="0"||h==="false"||h==="no"||h==="n"||h==="[]")}else s=!1;return s},l=parseInt((/msie (\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10);isNaN(l)&&(l=parseInt((/trident\/.*; rv:(\d+)/.exec(angular.lowercase(navigator.userAgent))||[])[1],10));var n={restrict:"AM",controller:["$scope","$element","$attrs","$interpolate",function(s,h,f,y){var i=function(d,g,b){var z=g==="show"?"":"none",Y=g==="hide"?"":"none";d.css("display",C(b)?z:Y)},u=function(d,g){if(angular.isObject(g)&&!angular.isArray(g)){var b=[];angular.forEach(g,function(z,Y){z&&b.push(Y)}),g=b}g&&d.addClass(angular.isArray(g)?g.join(" "):g)},v={watcherRemover:void 0,binders:[],group:f.boName,element:h,ran:!1,addBinder:function(d){this.binders.push(d),this.ran&&this.runBinders()},setupWatcher:function(d){var g=this;this.watcherRemover=s.$watch(d,function(b){b!==void 0&&(g.removeWatcher(),g.runBinders())},!0)},removeWatcher:function(){this.watcherRemover!==void 0&&(this.watcherRemover(),this.watcherRemover=void 0)},runBinders:function(){for(;this.binders.length>0;){var d=this.binders.shift();if(!(this.group&&this.group!=d.group)){var g=d.scope.$eval(d.interpolate?y(d.value):d.value);switch(d.attr){case"boIf":C(g)&&d.transclude(d.scope.$new(),function(H){var q=d.element.parent(),N=d.element&&d.element[d.element.length-1],j=q&&q[0]||N&&N.parentNode,x=N&&N.nextSibling||null;angular.forEach(H,function(rt){j.insertBefore(rt,x)})});break;case"boSwitch":var b,z=d.controller[0];(b=z.cases["!"+g]||z.cases["?"])&&(d.scope.$eval(d.attrs.change),angular.forEach(b,function(H){H.transclude(d.scope.$new(),function(q){var N=H.element.parent(),j=H.element&&H.element[H.element.length-1],x=N&&N[0]||j&&j.parentNode,rt=j&&j.nextSibling||null;angular.forEach(q,function(pt){x.insertBefore(pt,rt)})})}));break;case"boSwitchWhen":var Y=d.controller[0];Y.cases["!"+d.attrs.boSwitchWhen]=Y.cases["!"+d.attrs.boSwitchWhen]||[],Y.cases["!"+d.attrs.boSwitchWhen].push({transclude:d.transclude,element:d.element});break;case"boSwitchDefault":var Y=d.controller[0];Y.cases["?"]=Y.cases["?"]||[],Y.cases["?"].push({transclude:d.transclude,element:d.element});break;case"hide":case"show":i(d.element,d.attr,g);break;case"class":u(d.element,g);break;case"text":d.element.text(g);break;case"html":d.element.html(g);break;case"style":d.element.css(g);break;case"src":d.element.attr(d.attr,g),l&&d.element.prop("src",g);break;case"attr":angular.forEach(d.attrs,function(H,q){var N,j;q.match(/^boAttr./)&&d.attrs[q]&&(N=q.replace(/^boAttr/,"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),j=d.scope.$eval(d.attrs[q]),d.element.attr(N,j))});break;case"href":case"alt":case"title":case"id":case"value":d.element.attr(d.attr,g);break}}}this.ran=!0}};return v}],link:function(s,h,f,y){var i=f.bindonce?s.$eval(f.bindonce):!0;i!==void 0?y.runBinders():(y.setupWatcher(f.bindonce),h.bind("$destroy",y.removeWatcher))}};return n}),angular.forEach([{directiveName:"boShow",attribute:"show"},{directiveName:"boHide",attribute:"hide"},{directiveName:"boClass",attribute:"class"},{directiveName:"boText",attribute:"text"},{directiveName:"boBind",attribute:"text"},{directiveName:"boHtml",attribute:"html"},{directiveName:"boSrcI",attribute:"src",interpolate:!0},{directiveName:"boSrc",attribute:"src"},{directiveName:"boHrefI",attribute:"href",interpolate:!0},{directiveName:"boHref",attribute:"href"},{directiveName:"boAlt",attribute:"alt"},{directiveName:"boTitle",attribute:"title"},{directiveName:"boId",attribute:"id"},{directiveName:"boStyle",attribute:"style"},{directiveName:"boValue",attribute:"value"},{directiveName:"boAttr",attribute:"attr"},{directiveName:"boIf",transclude:"element",terminal:!0,priority:1e3},{directiveName:"boSwitch",require:"boSwitch",controller:function(){this.cases={}}},{directiveName:"boSwitchWhen",transclude:"element",priority:800,require:"^boSwitch"},{directiveName:"boSwitchDefault",transclude:"element",priority:800,require:"^boSwitch"}],function(C){var l=200;return a.directive(C.directiveName,function(){var n={priority:C.priority||l,transclude:C.transclude||!1,terminal:C.terminal||!1,require:["^bindonce"].concat(C.require||[]),controller:C.controller,compile:function(s,h,f){return function(y,i,u,v){var d=v[0],g=u.boParent;if(g&&d.group!==g){var b=d.element.parent();d=void 0;for(var z;b[0].nodeType!==9&&b.length;){if((z=b.data("$bindonceController"))&&z.group===g){d=z;break}b=b.parent()}if(!d)throw new Error("No bindonce controller: "+g)}d.addBinder({element:i,attr:C.attribute||C.directiveName,attrs:u,value:u[C.directiveName],interpolate:C.interpolate,group:g,transclude:f,controller:v.slice(1),scope:y})}}};return n})})})()},12571:()=>{/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */(function(a,C){"use strict";function l(H,q){if(s(H)){q=q||[];for(var N=0,j=H.length;N<j;N++)q[N]=H[N]}else if(h(H)){q=q||{};for(var x in H)x.charAt(0)==="$"&&x.charAt(1)==="$"||(q[x]=H[x])}return q||H}function n(H,q){var N=[],j=H.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(x,rt,pt,K){var ot=K==="?"||K==="*?",lt=K==="*"||K==="*?";return N.push({name:pt,optional:ot}),rt=rt||"",(ot?"(?:"+rt:rt+"(?:")+(lt?"(.+?)":"([^/]+)")+(ot?"?)?":")")}).replace(/([/$*])/g,"\\$1");return q.ignoreTrailingSlashes&&(j=j.replace(/\/+$/,"")+"/*"),{keys:N,regexp:new RegExp("^"+j+"(?:[?#]|$)",q.caseInsensitiveMatch?"i":"")}}var s,h,f,y,i=C.module("ngRoute",[]).info({angularVersion:"1.8.3"}).provider("$route",d).run(g),u=C.$$minErr("ngRoute"),v;function d(){s=C.isArray,h=C.isObject,f=C.isDefined,y=C.noop;function H(N,j){return C.extend(Object.create(N),j)}var q={};this.when=function(N,j){var x=l(j);if(C.isUndefined(x.reloadOnUrl)&&(x.reloadOnUrl=!0),C.isUndefined(x.reloadOnSearch)&&(x.reloadOnSearch=!0),C.isUndefined(x.caseInsensitiveMatch)&&(x.caseInsensitiveMatch=this.caseInsensitiveMatch),q[N]=C.extend(x,{originalPath:N},N&&n(N,x)),N){var rt=N[N.length-1]==="/"?N.substr(0,N.length-1):N+"/";q[rt]=C.extend({originalPath:N,redirectTo:N},n(rt,x))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(N){return typeof N=="string"&&(N={redirectTo:N}),this.when(null,N),this},v=!0,this.eagerInstantiationEnabled=function(j){return f(j)?(v=j,this):v},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(N,j,x,rt,pt,K,ot,lt){var P=!1,st,B,ut={routes:q,reload:function(){P=!0;var R={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,P=!1}};N.$evalAsync(function(){nt(R),R.defaultPrevented||tt()})},updateParams:function(R){if(this.current&&this.current.$$route)R=C.extend({},this.current.params,R),j.path(xt(this.current.$$route.originalPath,R)),j.search(R);else throw u("norout","Tried updating route with no current route")}};return N.$on("$locationChangeStart",nt),N.$on("$locationChangeSuccess",tt),ut;function A(R,W){var k=W.keys,V={};if(!W.regexp)return null;var Z=W.regexp.exec(R);if(!Z)return null;for(var et=1,X=Z.length;et<X;++et){var ft=k[et-1],L=Z[et];ft&&L&&(V[ft.name]=L)}return V}function nt(R){var W=ut.current;st=bt(),B=wt(st,W),!B&&(W||st)&&N.$broadcast("$routeChangeStart",st,W).defaultPrevented&&R&&R.preventDefault()}function tt(){var R=ut.current,W=st;if(B)R.params=W.params,C.copy(R.params,x),N.$broadcast("$routeUpdate",R);else if(W||R){P=!1,ut.current=W;var k=rt.resolve(W);lt.$$incOutstandingRequestCount("$route"),k.then(U).then(Q).then(function(V){return V&&k.then(mt).then(function(Z){W===ut.current&&(W&&(W.locals=Z,C.copy(W.params,x)),N.$broadcast("$routeChangeSuccess",W,R))})}).catch(function(V){W===ut.current&&N.$broadcast("$routeChangeError",W,R,V)}).finally(function(){lt.$$completeOutstandingRequest(y,"$route")})}}function U(R){var W={route:R,hasRedirection:!1};if(R){if(R.redirectTo)if(C.isString(R.redirectTo))W.path=xt(R.redirectTo,R.params),W.search=R.params,W.hasRedirection=!0;else{var k=j.path(),V=j.search(),Z=R.redirectTo(R.pathParams,k,V);C.isDefined(Z)&&(W.url=Z,W.hasRedirection=!0)}else if(R.resolveRedirectTo)return rt.resolve(pt.invoke(R.resolveRedirectTo)).then(function(et){return C.isDefined(et)&&(W.url=et,W.hasRedirection=!0),W})}return W}function Q(R){var W=!0;if(R.route!==ut.current)W=!1;else if(R.hasRedirection){var k=j.url(),V=R.url;V?j.url(V).replace():V=j.path(R.path).search(R.search).replace().url(),V!==k&&(W=!1)}return W}function mt(R){if(R){var W=C.extend({},R.resolve);C.forEach(W,function(V,Z){W[Z]=C.isString(V)?pt.get(V):pt.invoke(V,null,null,Z)});var k=dt(R);return C.isDefined(k)&&(W.$template=k),rt.all(W)}}function dt(R){var W,k;return C.isDefined(W=R.template)?C.isFunction(W)&&(W=W(R.params)):C.isDefined(k=R.templateUrl)&&(C.isFunction(k)&&(k=k(R.params)),C.isDefined(k)&&(R.loadedTemplateUrl=ot.valueOf(k),W=K(k))),W}function bt(){var R,W;return C.forEach(q,function(k,V){!W&&(R=A(j.path(),k))&&(W=H(k,{params:C.extend({},j.search(),R),pathParams:R}),W.$$route=k)}),W||q[null]&&H(q[null],{params:{},pathParams:{}})}function wt(R,W){return!P&&R&&W&&R.$$route===W.$$route&&(!R.reloadOnUrl||!R.reloadOnSearch&&C.equals(R.pathParams,W.pathParams))}function xt(R,W){var k=[];return C.forEach((R||"").split(":"),function(V,Z){if(Z===0)k.push(V);else{var et=V.match(/(\w+)(?:[?*])?(.*)/),X=et[1];k.push(W[X]),k.push(et[2]||""),delete W[X]}}),k.join("")}}]}g.$inject=["$injector"];function g(H){v&&H.get("$route")}i.provider("$routeParams",b);function b(){this.$get=function(){return{}}}i.directive("ngView",z),i.directive("ngView",Y),z.$inject=["$route","$anchorScroll","$animate"];function z(H,q,N){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(j,x,rt,pt,K){var ot,lt,P,st=rt.autoscroll,B=rt.onload||"";j.$on("$routeChangeSuccess",A),A();function ut(){P&&(N.cancel(P),P=null),ot&&(ot.$destroy(),ot=null),lt&&(P=N.leave(lt),P.done(function(nt){nt!==!1&&(P=null)}),lt=null)}function A(){var nt=H.current&&H.current.locals,tt=nt&&nt.$template;if(C.isDefined(tt)){var U=j.$new(),Q=H.current,mt=K(U,function(dt){N.enter(dt,null,lt||x).done(function(wt){wt!==!1&&C.isDefined(st)&&(!st||j.$eval(st))&&q()}),ut()});lt=mt,ot=Q.scope=U,ot.$emit("$viewContentLoaded"),ot.$eval(B)}else ut()}}}}Y.$inject=["$compile","$controller","$route"];function Y(H,q,N){return{restrict:"ECA",priority:-400,link:function(j,x){var rt=N.current,pt=rt.locals;x.html(pt.$template);var K=H(x.contents());if(rt.controller){pt.$scope=j;var ot=q(rt.controller,pt);rt.controllerAs&&(j[rt.controllerAs]=ot),x.data("$ngControllerController",ot),x.children().data("$ngControllerController",ot)}j[rt.resolveAs||"$resolve"]=pt,K(j)}}}})(window,window.angular)},93391:(a,C,l)=>{l(12571),a.exports="ngRoute"},98605:()=>{/**
 * @license AngularJS v1.8.3
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */(function(a,C){"use strict";var l=C.$$minErr("$sanitize"),n,s,h,f,y,i,u,v,d,g;function b(){var Y=!1,H=!1;this.$get=["$$sanitizeUri",function(k){return Y=!0,H&&s(st,lt),function(V){var Z=[];return d(V,g(Z,function(et,X){return!/^unsafe:/.test(k(et,X))})),Z.join("")}}],this.enableSvg=function(k){return y(k)?(H=k,this):H},this.addValidElements=function(k){return Y||(f(k)&&(k={htmlElements:k}),Q(lt,k.svgElements),Q(j,k.htmlVoidElements),Q(st,k.htmlVoidElements),Q(st,k.htmlElements)),this},this.addValidAttrs=function(k){return Y||s(nt,U(k,!0)),this},n=C.bind,s=C.extend,h=C.forEach,f=C.isArray,y=C.isDefined,i=C.$$lowercase,u=C.noop,d=dt,g=xt,v=a.Node.prototype.contains||function(k){return!!(this.compareDocumentPosition(k)&16)};var q=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,N=/([^#-~ |!])/g,j=tt("area,br,col,hr,img,wbr"),x=tt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rt=tt("rp,rt"),pt=s({},rt,x),K=s({},x,tt("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),ot=s({},rt,tt("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),lt=tt("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),P=tt("script,style"),st=s({},j,K,ot,pt),B=tt("background,cite,href,longdesc,src,xlink:href,xml:base"),ut=tt("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),A=tt("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),nt=s({},B,A,ut);function tt(k,V){return U(k.split(","),V)}function U(k,V){var Z={},et;for(et=0;et<k.length;et++)Z[V?i(k[et]):k[et]]=!0;return Z}function Q(k,V){V&&V.length&&s(k,U(V))}var mt=function(k,V){if(X())return ft;if(!V||!V.implementation)throw l("noinert","Can't create an inert html document");var Z=V.implementation.createHTMLDocument("inert"),et=(Z.documentElement||Z.getDocumentElement()).querySelector("body");return L;function X(){try{return!!ft("")}catch{return!1}}function ft(at){at="<remove></remove>"+at;try{var M=new k.DOMParser().parseFromString(at,"text/html").body;return M.firstChild.remove(),M}catch{return}}function L(at){return et.innerHTML=at,V.documentMode&&R(et),et}}(a,a.document);function dt(k,V){k==null?k="":typeof k!="string"&&(k=""+k);var Z=mt(k);if(!Z)return"";var et=5;do{if(et===0)throw l("uinput","Failed to sanitize html because the input is unstable");et--,k=Z.innerHTML,Z=mt(k)}while(k!==Z.innerHTML);for(var X=Z.firstChild;X;){switch(X.nodeType){case 1:V.start(X.nodeName.toLowerCase(),bt(X.attributes));break;case 3:V.chars(X.textContent);break}var ft;if(!(ft=X.firstChild)&&(X.nodeType===1&&V.end(X.nodeName.toLowerCase()),ft=W("nextSibling",X),!ft))for(;ft==null&&(X=W("parentNode",X),X!==Z);)ft=W("nextSibling",X),X.nodeType===1&&V.end(X.nodeName.toLowerCase());X=ft}for(;X=Z.firstChild;)Z.removeChild(X)}function bt(k){for(var V={},Z=0,et=k.length;Z<et;Z++){var X=k[Z];V[X.name]=X.value}return V}function wt(k){return k.replace(/&/g,"&amp;").replace(q,function(V){var Z=V.charCodeAt(0),et=V.charCodeAt(1);return"&#"+((Z-55296)*1024+(et-56320)+65536)+";"}).replace(N,function(V){return"&#"+V.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xt(k,V){var Z=!1,et=n(k,k.push);return{start:function(X,ft){X=i(X),!Z&&P[X]&&(Z=X),!Z&&st[X]===!0&&(et("<"),et(X),h(ft,function(L,at){var M=i(at),Tt=X==="img"&&M==="src"||M==="background";nt[M]===!0&&(B[M]!==!0||V(L,Tt))&&(et(" "),et(at),et('="'),et(wt(L)),et('"'))}),et(">"))},end:function(X){X=i(X),!Z&&st[X]===!0&&j[X]!==!0&&(et("</"),et(X),et(">")),X==Z&&(Z=!1)},chars:function(X){Z||et(wt(X))}}}function R(k){for(;k;){if(k.nodeType===a.Node.ELEMENT_NODE)for(var V=k.attributes,Z=0,et=V.length;Z<et;Z++){var X=V[Z],ft=X.name.toLowerCase();(ft==="xmlns:ns1"||ft.lastIndexOf("ns1:",0)===0)&&(k.removeAttributeNode(X),Z--,et--)}var L=k.firstChild;L&&R(L),k=W("nextSibling",k)}}function W(k,V){var Z=V[k];if(Z&&v.call(V,Z))throw l("elclob","Failed to sanitize html because the element is clobbered: {0}",V.outerHTML||V.outerText);return Z}}function z(Y){var H=[],q=g(H,u);return q.chars(Y),H.join("")}C.module("ngSanitize",[]).provider("$sanitize",b).info({angularVersion:"1.8.3"}),C.module("ngSanitize").filter("linky",["$sanitize",function(Y){var H=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,q=/^mailto:/i,N=C.$$minErr("linky"),j=C.isDefined,x=C.isFunction,rt=C.isObject,pt=C.isString;return function(K,ot,lt){if(K==null||K==="")return K;if(!pt(K))throw N("notstring","Expected string but received: {0}",K);for(var P=x(lt)?lt:rt(lt)?function(){return lt}:function(){return{}},st,B=K,ut=[],A,nt;st=B.match(H);)A=st[0],!st[2]&&!st[4]&&(A=(st[3]?"http://":"mailto:")+A),nt=st.index,tt(B.substr(0,nt)),U(A,st[0].replace(q,"")),B=B.substring(nt+st[0].length);return tt(B),Y(ut.join(""));function tt(Q){Q&&ut.push(z(Q))}function U(Q,mt){var dt,bt=P(Q);ut.push("<a ");for(dt in bt)ut.push(dt+'="'+bt[dt]+'" ');j(ot)&&!("target"in bt)&&ut.push('target="',ot,'" '),ut.push('href="',Q.replace(/"/g,"&quot;"),'">'),tt(mt),ut.push("</a>")}}}])})(window,window.angular)},8135:(a,C,l)=>{l(98605),a.exports="ngSanitize"},72364:a=>{"use strict";function C(l){var n=this,s;if(this._au)return;function h(){n.root[n.origin.offset]?y():f()}function f(){s||(s=setInterval(function(){n.root[n.origin.offset]&&(y(),n.update())},300))}function y(){clearInterval(s),s=null}var i=n._debounce(function(){n.update()},300);this._observer=new l(function(){h(),n.update(),i()}),this.on("init",function(){n._observer.observe(n.root,{childList:!0,subtree:!0,characterData:!0}),h()}),this.on("dispose",function(){n._observer.disconnect(),y(),delete n._observer}),this._au=!0}a.exports=function(n){var s=n.MutationObserver||n.WebKitMutationObserver||n.MozMutationObserver||null;return function(){return s?(C.call(this,s),this):this}}},14697:(a,C,l)=>{"use strict";var n=l(80367).qs;a.exports=function(h){var f,y,i,u,v=this,d;u=h.screen||.9,h.forward&&(f=n(h.forward,this.clipper),d={element:f,handler:function(){var g=v.pos()+(h.delta||30);v.pos(g)},type:"click"},this._eventHandlers.push(d),this.event(d.element,d.type,d.handler,"on")),h.backward&&(y=n(h.backward,this.clipper),d={element:y,handler:function(){var g=v.pos()-(h.delta||30);v.pos(g)},type:"click"},this._eventHandlers.push(d),this.event(d.element,d.type,d.handler,"on")),h.track&&(h.track===!0?i=this.track:i=n(h.track,this.clipper),i&&(d={element:i,handler:function(g){if(g.target==i){var b=g["offset"+v.origin.x],z=v.bar[v.origin.offsetPos],Y=0;b<z?Y=-1:b>z+v.bar[v.origin.offset]&&(Y=1);var H=v.pos()+Y*u*v.scroller[v.origin.client];v.pos(H)}},type:"mousedown"},this._eventHandlers.push(d),this.event(d.element,d.type,d.handler,"on")))}},84783:(a,C,l)=>{"use strict";var n=function(){return this||(0,eval)("this")}(),s=n&&n.window||n,h=l(80367).B,f=l(80367).iv,y=l(80367).IH,i=l(80367).e$,u=l(80367).rm,v=l(80367).d9,d=l(80367).qs,g=K,b=["left","top","right","bottom","width","height"],z=[],Y={v:{x:"Y",pos:b[1],oppos:b[3],crossPos:b[0],crossOpPos:b[2],size:b[5],crossSize:b[4],crossMinSize:"min-"+b[4],crossMaxSize:"max-"+b[4],client:"clientHeight",crossClient:"clientWidth",scrollEdge:"scrollLeft",offset:"offsetHeight",crossOffset:"offsetWidth",offsetPos:"offsetTop",scroll:"scrollTop",scrollSize:"scrollHeight"},h:{x:"X",pos:b[0],oppos:b[2],crossPos:b[1],crossOpPos:b[3],size:b[4],crossSize:b[5],crossMinSize:"min-"+b[5],crossMaxSize:"max-"+b[5],client:"clientWidth",crossClient:"clientHeight",scrollEdge:"scrollTop",offset:"offsetWidth",crossOffset:"offsetHeight",offsetPos:"offsetLeft",scroll:"scrollLeft",scrollSize:"scrollWidth"}},H=17,q=15,N=/[\s\S]*Macintosh[\s\S]*\) Gecko[\s\S]*/,j=N.test(s.navigator&&s.navigator.userAgent),x,rt,pt;function K(A){var nt=!!A,tt=A&&A[0]||A,U=typeof A=="string"||tt instanceof HTMLElement,Q=U?{root:A}:v(A),mt,dt,bt={direction:"v",barOnCls:"_scrollbar",resizeDebounce:0,event:h,cssGuru:!1,impact:"scroller",position:"static"};Q=Q||{};for(var wt in bt)Q[wt]==null&&(Q[wt]=bt[wt]);mt=this&&this instanceof s.jQuery,Q._chain?dt=Q.root:mt?Q.root=dt=this[0]:dt=d(Q.root||Q.scroller);var xt=st(dt,Q.direction),R=+xt;if(Q.index=R,R==R&&xt!==null&&z[R])return z[R];Q.root&&Q.scroller?Q.scroller=d(Q.scroller,dt):Q.scroller=dt,Q.root=dt;var W=B(Q);return W.autoUpdate&&W.autoUpdate(),W}function ot(A,nt){var tt=0,U=A;for((U.length===void 0||U===s)&&(U=[U]);U[tt];)nt.call(this,U[tt],tt),tt++}function lt(){return new Date().getTime()}function P(A,nt,tt){A._eventHandlers=A._eventHandlers||[{element:A.scroller,handler:function(U){A.scroll(U)},type:"scroll"},{element:A.root,handler:function(){A.update()},type:"transitionend animationend"},{element:A.scroller,handler:function(){A.update()},type:"keyup"},{element:A.bar,handler:function(U){U.preventDefault(),A.selection(),A.drag.now=1,A.draggingCls&&y(A.root,A.draggingCls)},type:"touchstart mousedown"},{element:document,handler:function(){A.selection(1),A.drag.now=0,A.draggingCls&&u(A.root,A.draggingCls)},type:"mouseup blur touchend"},{element:document,handler:function(U){U.button!=2&&A._pos0(U)},type:"touchstart mousedown"},{element:document,handler:function(U){A.drag.now&&A.drag(U)},type:"mousemove touchmove"},{element:s,handler:function(){A.update()},type:"resize"},{element:A.root,handler:function(){A.update()},type:"sizeChange"},{element:A.clipper,handler:function(){A.clipperOnScroll()},type:"scroll"}],ot(A._eventHandlers,function(U){if(U.element)if(U.element.length&&U.element!==s)for(var Q=0;Q<U.element.length;Q++)nt(U.element[Q],U.type,U.handler,tt);else nt(U.element,U.type,U.handler,tt)})}function st(A,nt,tt,U){var Q="data-baron-"+nt+"-id";return tt=="on"?A.setAttribute(Q,U):tt=="off"&&A.removeAttribute(Q),A.getAttribute(Q)}function B(A){var nt=new K.prototype.constructor(A);return P(nt,A.event,"on"),st(nt.root,A.direction,"on",z.length),z.push(nt),nt.update(),nt}function ut(A){if(this.events&&this.events[A])for(var nt=0;nt<this.events[A].length;nt++){var tt=Array.prototype.slice.call(arguments,1);this.events[A][nt].apply(this,tt)}}K.prototype={_debounce:function(A,nt){var tt=this,U,Q,mt=function(){if(tt._disposed){clearTimeout(U),U=tt=null;return}var dt=lt()-Q;dt<nt&&dt>=0?U=setTimeout(mt,nt-dt):(U=null,A())};return function(){Q=lt(),U||(U=setTimeout(mt,nt))}},constructor:function(A){var nt,tt,U,Q,mt,dt,bt;dt=lt(),this.params=A,this.event=A.event,this.events={},this.root=A.root,this.scroller=d(A.scroller),this.bar=d(A.bar,this.root),U=this.track=d(A.track,this.root),!this.track&&this.bar&&(U=this.bar.parentNode),this.clipper=this.scroller.parentNode,this.direction=A.direction,this.rtl=A.rtl,this.origin=Y[this.direction],this.barOnCls=A.barOnCls,this.scrollingCls=A.scrollingCls,this.draggingCls=A.draggingCls,this.impact=A.impact,this.position=A.position,this.rtl=A.rtl,this.barTopLimit=0,this.resizeDebounce=A.resizeDebounce;function wt(L){var at=this.barMinSize||20,M=L;M>0&&M<at&&(M=at),this.bar&&f(this.bar,this.origin.size,parseInt(M,10)+"px")}function xt(L){if(this.bar){var at=f(this.bar,this.origin.pos),M=+L+"px";M&&M!=at&&f(this.bar,this.origin.pos,M)}}function R(){return U[this.origin.client]-this.barTopLimit-this.bar[this.origin.offset]}function W(L){return L*R.call(this)+this.barTopLimit}function k(L){return(L-this.barTopLimit)/R.call(this)}this.cursor=function(L){return L["client"+this.origin.x]||(((L.originalEvent||L).touches||{})[0]||{})["page"+this.origin.x]};function V(){return!1}if(this.pos=function(L){var at="page"+this.origin.x+"Offset",M=this.scroller[at]?at:this.origin.scroll;return L!==void 0&&(this.scroller[M]=L),this.scroller[M]},this.rpos=function(L){var at=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client],M;return L?M=this.pos(L*at):M=this.pos(),M/(at||1)},this.barOn=function(L){if(this.barOnCls){var at=this.scroller[this.origin.client]>=this.scroller[this.origin.scrollSize];L||at?i(this.root,this.barOnCls)&&u(this.root,this.barOnCls):i(this.root,this.barOnCls)||y(this.root,this.barOnCls)}},this._pos0=function(L){tt=this.cursor(L)-nt},this.drag=function(L){var at=k.call(this,this.cursor(L)-tt),M=this.scroller[this.origin.scrollSize]-this.scroller[this.origin.client];this.scroller[this.origin.scroll]=at*M},this.selection=function(L){this.event(document,"selectpos selectstart",V,L?"off":"on")},this.resize=function(){var L=this,at=L.resizeDebounce===void 0?300:L.resizeDebounce,M=0;lt()-dt<at&&(clearTimeout(Q),M=at);function Tt(){var Pt=L.scroller[L.origin.crossOffset],gt=L.scroller[L.origin.crossClient],Nt=0,$t,At;if(j?Nt=q:gt>0&&Pt===0&&(Pt=gt+H),Pt)if(L.barOn(),L.impact=="scroller"){var Ft=Pt-gt+Nt;if(L.position=="static")$t=f(L.scroller,L.origin.crossSize),At=L.clipper[L.origin.crossClient]+Ft+"px",$t!=At&&L._setCrossSizes(L.scroller,At);else{var Wt={},Bt=L.rtl?"Left":"Right";L.direction=="h"&&(Bt="Bottom"),Wt["padding"+Bt]=Ft+"px",f(L.scroller,Wt)}}else $t=f(L.clipper,L.origin.crossSize),At=gt+"px",$t!=At&&L._setCrossSizes(L.clipper,At);Array.prototype.unshift.call(arguments,"resize"),ut.apply(L,arguments),dt=lt()}M?Q=setTimeout(Tt,M):Tt()},this.updatePositions=function(L){var at,M=this;M.bar&&(at=(U[M.origin.client]-M.barTopLimit)*M.scroller[M.origin.client]/M.scroller[M.origin.scrollSize],(L||parseInt(bt,10)!=parseInt(at,10))&&(wt.call(M,at),bt=at),nt=W.call(M,M.rpos()),xt.call(M,nt)),Array.prototype.unshift.call(arguments,"scroll"),ut.apply(M,arguments)},this.scroll=function(){var L=this;L.updatePositions(),L.scrollingCls&&(mt||y(L.root,L.scrollingCls),clearTimeout(mt),mt=setTimeout(function(){u(L.root,L.scrollingCls),mt=void 0},300))},this.clipperOnScroll=function(){this.rtl?this.clipper[this.origin.scrollEdge]=this.clipper[this.origin.scrollSize]:this.clipper[this.origin.scrollEdge]=0},this._setCrossSizes=function(L,at){var M={};M[this.origin.crossSize]=at,M[this.origin.crossMinSize]=at,M[this.origin.crossMaxSize]=at,f(L,M)},this._dumbCss=function(L){if(!A.cssGuru){var at=L?"hidden":null,M=L?"none":null;f(this.clipper,{overflow:at,msOverflowStyle:M,position:this.position=="static"?"":"relative"});var Tt=L?"scroll":null,Pt=this.direction=="v"?"y":"x",gt={};gt["overflow-"+Pt]=Tt,gt["box-sizing"]="border-box",gt.margin="0",gt.border="0",this.position=="absolute"&&(gt.position="absolute",gt.top="0",this.direction=="h"?gt.left=gt.right="0":(gt.bottom="0",gt.right=this.rtl?"0":"",gt.left=this.rtl?"":"0")),f(this.scroller,gt)}},this._dumbCss(!0),j){var Z="paddingRight",et={},X=s.getComputedStyle(this.scroller)[[Z]];A.direction=="h"?Z="paddingBottom":A.rtl&&(Z="paddingLeft");var ft=parseInt(X,10);ft!=ft&&(ft=0),et[Z]=q+ft+"px",f(this.scroller,et)}return this},update:function(A){return ut.call(this,"upd",A),this.resize(1),this.updatePositions(1),this},dispose:function(){P(this,this.event,"off"),st(this.root,this.params.direction,"off"),this.params.direction=="v"?this._setCrossSizes(this.scroller,""):this._setCrossSizes(this.clipper,""),this._dumbCss(!1),this.barOn(!0),ut.call(this,"dispose"),z[this.params.index]=null,this.params=null,this._disposed=!0},on:function(A,nt,tt){for(var U=A.split(" "),Q=0;Q<U.length;Q++)U[Q]=="init"?nt.call(this,tt):(this.events[U[Q]]=this.events[U[Q]]||[],this.events[U[Q]].push(function(mt){nt.call(this,mt||tt)}))},baron:function(A){return A.root=this.params.root,A.scroller=this.params.scroller,A.direction=this.params.direction=="v"?"h":"v",A._chain=!0,K(A)}},K.prototype.constructor.prototype=K.prototype,K.noConflict=function(){return s.baron=g,K},K.version="3.0.1",K.prototype.autoUpdate=l(72364)(s),K.prototype.fix=l(68921),K.prototype.controls=l(14697),a.exports=K},68921:(a,C,l)=>{"use strict";var n=l(74309),s=l(80367).iv,h=l(80367).IH,f=l(80367).rm;a.exports=function(i){var u,v,d={outside:"",inside:"",before:"",after:"",past:"",future:"",radius:0,minView:0},g=[],b=[],z=[],Y=this.scroller,H=this.event,q=this;function N(K,ot,lt){var P=ot,st=lt==1?"pos":"oppos";v<(d.minView||0)&&(P=void 0),s(u[K],this.origin.pos,""),s(u[K],this.origin.oppos,""),f(u[K],d.outside),P!==void 0&&(P+="px",s(u[K],this.origin[st],P),h(u[K],d.outside))}function j(K){try{var ot=document.createEvent("WheelEvent");ot.initWebKitWheelEvent(K.originalEvent.wheelDeltaX,K.originalEvent.wheelDeltaY),Y.dispatchEvent(ot),K.preventDefault()}catch{}}function x(K){var ot;for(var lt in K)d[lt]=K[lt];if(d.elements instanceof HTMLElement?u=[d.elements]:typeof d.elements=="string"?u=this.scroller.querySelectorAll(d.elements):d.elements&&d.elements[0]instanceof HTMLElement&&(u=d.elements),u){v=this.scroller[this.origin.client];for(var P=0;P<u.length;P++)ot={},ot[this.origin.size]=u[P][this.origin.offset]+"px",u[P].parentNode!==this.scroller&&s(u[P].parentNode,ot),ot={},ot[this.origin.crossSize]=u[P].parentNode[this.origin.crossClient]+"px",s(u[P],ot),v-=u[P][this.origin.offset],z[P]=u[P].parentNode[this.origin.offsetPos],g[P]=g[P-1]||0,b[P]=b[P-1]||Math.min(z[P],0),u[P-1]&&(g[P]+=u[P-1][this.origin.offset],b[P]+=u[P-1][this.origin.offset]),P==0&&z[P]==0||(this.event(u[P],"mousewheel",j,"off"),this.event(u[P],"mousewheel",j));d.limiter&&u[0]&&(this.track&&this.track!=this.scroller?(ot={},ot[this.origin.pos]=u[0].parentNode[this.origin.offset]+"px",s(this.track,ot)):this.barTopLimit=u[0].parentNode[this.origin.offset],this.scroll()),d.limiter===!1&&(this.barTopLimit=0)}var st={element:u,handler:function(){for(var ut=this.parentNode,A=ut.offsetTop,nt,tt=0;tt<u.length;tt++)u[tt]===this&&(nt=tt);var U=A-g[nt];d.scroll?d.scroll({x1:q.scroller.scrollTop,x2:U}):q.scroller.scrollTop=U},type:"click"};if(d.clickable){this._eventHandlers.push(st);for(var B=0;B<st.element.length;B++)H(st.element[B],st.type,st.handler,"on")}}this.on("init",x,i);var rt=[],pt=[];return this.on("init scroll",function(){var K,ot,lt,P;if(u){var st;for(P=0;P<u.length;P++)K=0,z[P]-this.pos()<b[P]+d.radius?(K=1,ot=g[P]):z[P]-this.pos()>b[P]+v-d.radius?(K=2,ot=this.scroller[this.origin.client]-u[P][this.origin.offset]-g[P]-v):(K=3,ot=void 0),lt=!1,(z[P]-this.pos()<b[P]||z[P]-this.pos()>b[P]+v)&&(lt=!0),(K!=rt[P]||lt!=pt[P])&&(N.call(this,P,ot,K),rt[P]=K,pt[P]=lt,st=!0);if(st)for(P=0;P<u.length;P++)rt[P]==1&&d.past&&(h(u[P],d.past),f(u[P],d.future)),rt[P]==2&&d.future&&(h(u[P],d.future),f(u[P],d.past)),rt[P]==3&&(f(u[P],d.past),f(u[P],d.future),h(u[P],d.inside)),rt[P]!=rt[P+1]&&rt[P]==1?(h(u[P],d.before),f(u[P],d.after)):rt[P]!=rt[P-1]&&rt[P]==2?(h(u[P],d.after),f(u[P],d.before)):(f(u[P],d.before),f(u[P],d.after)),d.grad&&(pt[P]?h(u[P],d.grad):f(u[P],d.grad))}}),this.on("resize upd",function(K){x.call(this,K&&K.fix)}),this}},74309:a=>{a.exports=function(l,n,s){var h=console[l]||console.log,f=["Baron: "+n,s];Function.prototype.apply.call(h,console,f)}},80367:a=>{"use strict";var C,l=!1;try{var n=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,n)}catch{}a.exports.B=function(f,y,i,u){var v=y.split(" "),d=u=="on"?"add":"remove";v.forEach(function(g){var b=!1;["scroll","touchstart","touchmove"].indexOf(g)!=-1&&l&&(b={passive:!0}),f[d+"EventListener"](g,i,b)})};function s(h,f){for(var y in h)h.hasOwnProperty(y)&&f(y,h[y])}a.exports.iv=function(f,y,i){var u;if(i===void 0){if(typeof y=="string")return f.style[y];u=y}else u={},u[y]=i;s(u,function(v,d){f.style[v]=d})},a.exports.IH=function(f,y){y&&f.classList.add(y)},a.exports.rm=function(f,y){y&&f.classList.remove(y)},a.exports.e$=function(f,y){return y?f.classList.contains(y):!1},a.exports.d9=function(f){var y={},i=f||{};return s(i,function(u,v){y[u]=v}),y},a.exports.qs=function(f,y){if(f instanceof HTMLElement)return f;var i=y||document;return i.querySelector(f)},C=s},526:()=>{(function(a){"use strict";a(function(){a.support.transition=function(){var C=function(){var l=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},s;for(s in n)if(l.style[s]!==void 0)return n[s]}();return C&&{end:C}}()})})(window.jQuery),function(a){"use strict";var C="[data-toggle=dropdown]",l=function(f){var y=a(f).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){y.parent().removeClass("open")})};l.prototype={constructor:l,toggle:function(f){var y=a(this),i,u;if(!y.is(".disabled, :disabled"))return i=s(y),u=i.hasClass("open"),n(),u||("ontouchstart"in document.documentElement&&a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",n),i.toggleClass("open")),y.focus(),!1},keydown:function(f){var y,i,u,v,d,g;if(/(38|40|27)/.test(f.keyCode)&&(y=a(this),f.preventDefault(),f.stopPropagation(),!y.is(".disabled, :disabled"))){if(v=s(y),d=v.hasClass("open"),!d||d&&f.keyCode==27)return f.which==27&&v.find(C).focus(),y.click();i=a("[role=menu] li:not(.divider):visible a",v),i.length&&(g=i.index(i.filter(":focus")),f.keyCode==38&&g>0&&g--,f.keyCode==40&&g<i.length-1&&g++,~g||(g=0),i.eq(g).focus())}}};function n(){a(".dropdown-backdrop").remove(),a(C).each(function(){s(a(this)).removeClass("open")})}function s(f){var y=f.attr("data-target"),i;return y||(y=f.attr("href"),y=y&&/#[A-Za-z]/.test(y)&&y.replace(/.*(?=#[^\s]*$)/,"")),i=y&&a.find(y),(!i||!i.length)&&(i=f.parent()),i}var h=a.fn.dropdown;a.fn.dropdown=function(f){return this.each(function(){var y=a(this),i=y.data("dropdown");i||y.data("dropdown",i=new l(this)),typeof f=="string"&&i[f].call(y)})},a.fn.dropdown.Constructor=l,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.dropdown.data-api",n).on("click.dropdown.data-api",".dropdown form",function(f){f.stopPropagation()}).on("click.dropdown.data-api",C,l.prototype.toggle).on("keydown.dropdown.data-api",C+", [role=menu]",l.prototype.keydown)}(window.jQuery),function(a){"use strict";var C=function(n,s){this.options=s,this.$element=a(n).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};C.prototype={constructor:C,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var n=this,s=a.Event("show");this.$element.trigger(s),!(this.isShown||s.isDefaultPrevented())&&(this.isShown=!0,this.escape(),this.backdrop(function(){var h=a.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),h&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus(),h?n.$element.one(a.support.transition.end,function(){n.$element.focus().trigger("shown")}):n.$element.focus().trigger("shown")}))},hide:function(n){n&&n.preventDefault();var s=this;n=a.Event("hide"),this.$element.trigger(n),!(!this.isShown||n.isDefaultPrevented())&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var n=this;a(document).on("focusin.modal",function(s){n.$element[0]!==s.target&&!n.$element.has(s.target).length&&n.$element.focus()})},escape:function(){var n=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(s){s.which==27&&n.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var n=this,s=setTimeout(function(){n.$element.off(a.support.transition.end),n.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(s),n.hideModal()})},hideModal:function(){var n=this;this.$element.hide(),this.backdrop(function(){n.removeBackdrop(),n.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(n){var s=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&h;if(this.$backdrop=a('<div class="modal-backdrop '+h+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;f?this.$backdrop.one(a.support.transition.end,n):n()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,n):n()):n&&n()}};var l=a.fn.modal;a.fn.modal=function(n){return this.each(function(){var s=a(this),h=s.data("modal"),f=a.extend({},a.fn.modal.defaults,s.data(),typeof n=="object"&&n);h||s.data("modal",h=new C(this,f)),typeof n=="string"?h[n]():f.show&&h.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=C,a.fn.modal.noConflict=function(){return a.fn.modal=l,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(n){var s=a(this),h=s.attr("href"),f=a.find(s.attr("data-target")||h&&h.replace(/.*(?=#[^\s]+$)/,"")),y=f.data("modal")?"toggle":a.extend({remote:!/#/.test(h)&&h},f.data(),s.data());n.preventDefault(),f.modal(y).one("hide",function(){s.focus()})})}(window.jQuery),function(a){"use strict";var C=function(n,s){this.init("tooltip",n,s)};C.prototype={constructor:C,init:function(n,s,h){var f,y,i,u,v;for(this.type=n,this.$element=a(s),this.options=this.getOptions(h),this.enabled=!0,i=this.options.trigger.split(" "),v=i.length;v--;)u=i[v],u=="click"?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):u!="manual"&&(f=u=="hover"?"mouseenter":"focus",y=u=="hover"?"mouseleave":"blur",this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(y+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(n){return n=a.extend({},a.fn[this.type].defaults,this.$element.data(),n),n.delay&&typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),n},enter:function(n){var s=a.fn[this.type].defaults,h={},f;if(this._options&&a.each(this._options,function(y,i){s[y]!=i&&(h[y]=i)},this),f=a(n.currentTarget)[this.type](h).data(this.type),!f.options.delay||!f.options.delay.show)return f.show();clearTimeout(this.timeout),f.hoverState="in",this.timeout=setTimeout(function(){f.hoverState=="in"&&f.show()},f.options.delay.show)},leave:function(n){var s=a(n.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!s.options.delay||!s.options.delay.hide)return s.hide();s.hoverState="out",this.timeout=setTimeout(function(){s.hoverState=="out"&&s.hide()},s.options.delay.hide)},show:function(){var n,s,h,f,y,i,u=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(u),u.isDefaultPrevented())return;switch(n=this.tip(),this.setContent(),this.options.animation&&n.addClass("fade"),y=typeof this.options.placement=="function"?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,n.detach().css({top:0,left:0,display:"block"}),this.options.container?n.appendTo(a.find(this.options.container)):n.insertAfter(this.$element),s=this.getPosition(),h=n[0].offsetWidth,f=n[0].offsetHeight,y){case"bottom":i={top:s.top+s.height,left:s.left+s.width/2-h/2};break;case"top":i={top:s.top-f,left:s.left+s.width/2-h/2};break;case"left":i={top:s.top+s.height/2-f/2,left:s.left-h};break;case"right":i={top:s.top+s.height/2-f/2,left:s.left+s.width};break;case"topLeft":i={top:s.top-f,left:s.left+s.width/2-h*.1};break;case"topRight":i={top:s.top-f,left:s.left+s.width/2-h*.9};break;case"rightTop":i={top:s.top+s.height/2-f*.1,left:s.left+s.width};break;case"rightBottom":i={top:s.top+s.height/2-f*.9,left:s.left+s.width};break;case"bottomLeft":i={top:s.top+s.height,left:s.left+s.width/2-h*.1};break;case"bottomRight":i={top:s.top+s.height,left:s.left+s.width/2-h*.9};break;case"leftTop":i={top:s.top+s.height/2-f*.1,left:s.left-h};break;case"leftBottom":i={top:s.top+s.height/2-f*.9,left:s.left-h};break}this.applyPlacement(i,y),this.$element.trigger("shown")}},applyPlacement:function(n,s){var h=this.tip(),f=h[0].offsetWidth,y=h[0].offsetHeight,i,u,v,d;h.offset(n).addClass(s).addClass("in"),i=h[0].offsetWidth,u=h[0].offsetHeight,s=="top"&&u!=y&&(n.top=n.top+y-u,d=!0),s=="bottom"||s=="top"?(v=0,n.left<0&&(v=n.left*-2,n.left=0,h.offset(n),i=h[0].offsetWidth,u=h[0].offsetHeight),this.replaceArrow(v-f+i,i,"left")):this.replaceArrow(u-y,u,"top"),d&&h.offset(n)},replaceArrow:function(n,s,h){this.arrow().css(h,n?50*(1-n/s)+"%":"")},setContent:function(){var n=this.tip(),s=this.getTitle();n.find(".tooltip-inner").text(s),n.removeClass("fade in top bottom left right")},hide:function(){var n=this,s=this.tip(),h=a.Event("hide");if(this.$element.trigger(h),h.isDefaultPrevented())return;s.removeClass("in");function f(){var y=setTimeout(function(){s.off(a.support.transition.end).detach()},500);s.one(a.support.transition.end,function(){clearTimeout(y),s.detach()})}return a.support.transition&&this.$tip.hasClass("fade")?f():s.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var n=this.$element;(n.attr("title")||typeof n.attr("data-original-title")!="string")&&n.attr("data-original-title",n.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var n=this.$element[0];return a.extend({},typeof n.getBoundingClientRect=="function"?n.getBoundingClientRect():{width:n.offsetWidth,height:n.offsetHeight},this.$element.offset())},getTitle:function(){var n,s=this.$element,h=this.options;return n=s.attr("data-original-title")||(typeof h.title=="function"?h.title.call(s[0]):h.title),n},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(n){var s=n?a(n.currentTarget)[this.type](this._options).data(this.type):this;s.tip().hasClass("in")?s.hide():s.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var l=a.fn.tooltip;a.fn.tooltip=function(n){return this.each(function(){var s=a(this),h=s.data("tooltip"),f=typeof n=="object"&&n;h||s.data("tooltip",h=new C(this,f)),typeof n=="string"&&h[n]()})},a.fn.tooltip.Constructor=C,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=l,this}}(window.jQuery),function(a){"use strict";var C=function(n){this.element=a(n)};C.prototype={constructor:C,show:function(){var n=this.element,s=n.closest("ul:not(.dropdown-menu)"),h=n.attr("data-target"),f,y,i;h||(h=n.attr("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,"")),!n.parent("li").hasClass("active")&&(f=s.find(".active:last a")[0],i=a.Event("show",{relatedTarget:f}),n.trigger(i),!i.isDefaultPrevented()&&(y=a.find(h),this.activate(n.parent("li"),s),this.activate(y,y.parent(),function(){n.trigger({type:"shown",relatedTarget:f})})))},activate:function(n,s,h){var f=s.find("> .active"),y=h&&a.support.transition&&f.hasClass("fade");function i(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),n.addClass("active"),y?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu")&&n.closest("li.dropdown").addClass("active"),h&&h()}y?f.one(a.support.transition.end,i):i(),f.removeClass("in")}};var l=a.fn.tab;a.fn.tab=function(n){return this.each(function(){var s=a(this),h=s.data("tab");h||s.data("tab",h=new C(this)),typeof n=="string"&&h[n]()})},a.fn.tab.Constructor=C,a.fn.tab.noConflict=function(){return a.fn.tab=l,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),a(this).tab("show")})}(window.jQuery),function(a){"use strict";var C=function(n,s){this.$element=a(n),this.options=a.extend({},a.fn.typeahead.defaults,s),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};C.prototype={constructor:C,select:function(){var n=this.$menu.find(".active").attr("data-value")||this.$element.val();return this.$element.val(this.updater(n)).change(),this.hide()},updater:function(n){return n},show:function(){var n=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:n.top+n.height,left:n.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(n){var s;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(s=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,s?this.process(s):this)},process:function(n){var s=this;return n=a.grep(n,function(h){return s.matcher(h)}),n=this.sorter(n),n.length?this.render(n.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(n){return~n.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(n){for(var s=[],h=[],f=[],y;y=n.shift();)y.toLowerCase().indexOf(this.query.toLowerCase())?~y.indexOf(this.query)?h.push(y):f.push(y):s.push(y);return s.concat(h,f)},highlighter:function(n){var s=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return s?n.replace(new RegExp("("+s+")","ig"),function(h,f){return"<strong>"+f+"</strong>"}):n},render:function(n){var s=this;return n=a(n).map(function(h,f){return h=a(s.options.item).attr("data-value",f),h.find("a").html(s.highlighter(f)),h[0]}),this.$menu.html(n),this},next:function(n){var s=this.$menu.find(".active").removeClass("active"),h=s.next();h.length||(h=a(this.$menu.find("li")[0])),h.addClass("active")},prev:function(n){var s=this.$menu.find(".active").removeClass("active"),h=s.prev();h.length||(h=this.$menu.find("li").last()),h.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},destroy:function(){this.$element.off().removeData("typeahead"),this.$menu.off()},eventSupported:function(n){var s=n in this.$element;return s||(this.$element.setAttribute(n,"return;"),s=typeof this.$element[n]=="function"),s},move:function(n){if(this.shown&&!(n.shiftKey&&n.keyCode===40)){switch(n.keyCode){case 9:case 13:case 27:n.preventDefault();break;case 38:n.preventDefault(),this.prev();break;case 40:n.preventDefault(),this.next();break}n.stopPropagation()}},keydown:function(n){this.suppressKeyPressRepeat=~a.inArray(n.keyCode,[40,38,9,13,27,57]),this.move(n)},keypress:function(n){this.suppressKeyPressRepeat||this.move(n)},keyup:function(n){switch(n.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}n.keyCode===13&&typeof this.$menu.find(".active").attr("data-value")>"u"?this.$element.submit():(n.stopPropagation(),n.preventDefault())},focus:function(n){this.focused=!0},blur:function(n){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(n){n.stopPropagation(),n.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(n){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(n.currentTarget).addClass("active")},mouseleave:function(n){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var l=a.fn.typeahead;a.fn.typeahead=function(n){return this.each(function(){var s=a(this),h=s.data("typeahead"),f=typeof n=="object"&&n;h||s.data("typeahead",h=new C(this,f)),typeof n=="string"&&h[n]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=C,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=l,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(n){var s=a(this);s.data("typeahead")||s.typeahead(s.data())})}(window.jQuery),function(a){"use strict";var C=function(n,s){this.options=a.extend({},a.fn.affix.defaults,s),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(n),this.checkPosition()};C.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=a(document).height(),s=this.$window.scrollTop(),h=this.$element.offset(),f=this.options.offset,y=f.bottom,i=f.top,u="affix affix-top affix-bottom",v;typeof f!="object"&&(y=i=f),typeof i=="function"&&(i=f.top()),typeof y=="function"&&(y=f.bottom()),v=this.unpin!=null&&s+this.unpin<=h.top?!1:y!=null&&h.top+this.$element.height()>=n-y?"bottom":i!=null&&s<=i?"top":!1,this.affixed!==v&&(this.affixed=v,this.unpin=v=="bottom"?h.top-s:null,this.$element.removeClass(u).addClass("affix"+(v?"-"+v:"")))}};var l=a.fn.affix;a.fn.affix=function(n){return this.each(function(){var s=a(this),h=s.data("affix"),f=typeof n=="object"&&n;h||s.data("affix",h=new C(this,f)),typeof n=="string"&&h[n]()})},a.fn.affix.Constructor=C,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=l,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var n=a(this),s=n.data();s.offset=s.offset||{},s.offsetBottom&&(s.offset.bottom=s.offsetBottom),s.offsetTop&&(s.offset.top=s.offsetTop),n.affix(s)})})}(window.jQuery)},90402:()=>{(function(a){"use strict";var C={tagClass:function(i){return"label label-info"},itemValue:function(i){return i&&i.toString()},itemText:function(i){return this.itemValue(i)},freeInput:!0,maxTags:void 0,confirmKeys:[13],onTagExists:function(i,u){u.hide().fadeIn()}};function l(i,u){this.itemsArray=[],this.$element=a(i),this.$element.hide(),this.widthClass=u.widthClass||"width-9",this.isSelect=i.tagName==="SELECT",this.multiple=this.isSelect&&i.hasAttribute("multiple"),this.objectItems=u&&u.itemValue,this.placeholderText=i.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input class="gf-form-input '+this.widthClass+'" type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container),this.build(u)}l.prototype={constructor:l,add:function(i,u){var v=this;if(!(v.options.maxTags&&v.itemsArray.length>=v.options.maxTags)&&!(i!==!1&&!i)){if(typeof i=="object"&&!v.objectItems)throw"Can't add objects when itemValue option is not set";if(!i.toString().match(/^\s*$/)){if(v.isSelect&&!v.multiple&&v.itemsArray.length>0&&v.remove(v.itemsArray[0]),typeof i=="string"&&this.$element[0].tagName==="INPUT"){var d=i.split(",");if(d.length>1){for(var g=0;g<d.length;g++)this.add(d[g],!0);u||v.pushVal();return}}var b=v.options.itemValue(i),z=v.options.itemText(i),Y=v.options.tagClass(i),H=a.grep(v.itemsArray,function(x){return v.options.itemValue(x)===b})[0];if(H){if(v.options.onTagExists){var q=a(".tag",v.$container).filter(function(){return a(this).data("item")===H});v.options.onTagExists(i,q)}return}v.itemsArray.push(i);var N=a('<span class="tag '+f(Y)+'">'+f(z)+'<span data-role="remove"></span></span>');if(N.data("item",i),v.findInputWrapper().before(N),N.after(" "),v.isSelect&&!a('option[value="'+escape(b)+'"]',v.$element)[0]){var j=a("<option selected>"+f(z)+"</option>");j.data("item",i),j.attr("value",b),v.$element.append(j)}u||v.pushVal(),v.options.maxTags===v.itemsArray.length&&v.$container.addClass("bootstrap-tagsinput-max"),v.$element.trigger(a.Event("itemAdded",{item:i}))}}},remove:function(i,u){var v=this;v.objectItems&&(typeof i=="object"?i=a.grep(v.itemsArray,function(d){return v.options.itemValue(d)==v.options.itemValue(i)})[0]:i=a.grep(v.itemsArray,function(d){return v.options.itemValue(d)==i})[0]),i&&(a(".tag",v.$container).filter(function(){return a(this).data("item")===i}).remove(),a("option",v.$element).filter(function(){return a(this).data("item")===i}).remove(),v.itemsArray.splice(a.inArray(i,v.itemsArray),1)),u||v.pushVal(),v.options.maxTags>v.itemsArray.length&&v.$container.removeClass("bootstrap-tagsinput-max"),v.$element.trigger(a.Event("itemRemoved",{item:i}))},removeAll:function(){var i=this;for(a(".tag",i.$container).remove(),a("option",i.$element).remove();i.itemsArray.length>0;)i.itemsArray.pop();i.pushVal(),i.options.maxTags&&!this.isEnabled()&&this.enable()},refresh:function(){var i=this;a(".tag",i.$container).each(function(){var u=a(this),v=u.data("item"),d=i.options.itemValue(v),g=i.options.itemText(v),b=i.options.tagClass(v);if(u.attr("class",null),u.addClass("tag "+f(b)),u.contents().filter(function(){return this.nodeType==3})[0].nodeValue=f(g),i.isSelect){var z=a("option",i.$element).filter(function(){return a(this).data("item")===v});z.attr("value",d)}})},items:function(){return this.itemsArray},pushVal:function(){var i=this,u=a.map(i.items(),function(v){return i.options.itemValue(v).toString()});i.$element.val(u,!0).trigger("change")},build:function(i){var u=this;u.options=a.extend({},C,i);var v=u.options.typeahead||{};u.objectItems&&(u.options.freeInput=!1),n(u.options,"itemValue"),n(u.options,"itemText"),n(u.options,"tagClass"),u.options.source&&(v.source=u.options.source),v.source&&a.fn.typeahead&&(s(v,"source"),u.$input.typeahead({source:function(d,g){function b(H){for(var q=[],N=0;N<H.length;N++){var j=u.options.itemText(H[N]);z[j]=H[N],q.push(j)}g(q)}this.map={};var z=this.map,Y=v.source(d);a.isFunction(Y.success)?Y.success(b):a.when(Y).then(b)},updater:function(d){u.add(this.map[d])},matcher:function(d){return d.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(d){return d.sort()},highlighter:function(d){var g=new RegExp("("+this.query+")","gi");return d.replace(g,"<strong>$1</strong>")}})),u.$container.on("click",a.proxy(function(d){u.$input.focus()},u)),u.$container.on("blur","input",a.proxy(function(d){var g=a(d.target);u.add(g.val()),g.val(""),d.preventDefault()},u)),u.$container.on("keydown","input",a.proxy(function(d){var g=a(d.target),b=u.findInputWrapper();switch(d.which){case 8:if(y(g[0])===0){var z=b.prev();z&&u.remove(z.data("item"))}break;case 46:if(y(g[0])===0){var Y=b.next();Y&&u.remove(Y.data("item"))}break;case 37:var H=b.prev();g.val().length===0&&H[0]&&(H.before(b),g.focus());break;case 39:var q=b.next();g.val().length===0&&q[0]&&(q.after(b),g.focus());break;default:u.options.freeInput&&a.inArray(d.which,u.options.confirmKeys)>=0&&(u.add(g.val()),g.val(""),d.preventDefault())}g.attr("size",Math.max(this.inputSize,g.val().length))},u)),u.$container.on("click","[data-role=remove]",a.proxy(function(d){u.remove(a(d.target).closest(".tag").data("item")),d.stopPropagation()},u)),u.options.itemValue===C.itemValue&&(u.$element[0].tagName==="INPUT"?u.add(u.$element.val()):a("option",u.$element).each(function(){u.add(a(this).attr("value"),!0)}))},destroy:function(){var i=this;i.$container.off("keypress","input"),i.$container.off("click","[role=remove]"),i.$container.remove(),i.$element.removeData("tagsinput"),i.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var i=this.$input[0],u=this.$container[0];i&&i.parentNode!==u;)i=i.parentNode;return a(i)}},a.fn.tagsinput=function(i,u){var v=[];return this.each(function(){var d=a(this).data("tagsinput");if(!d)d=new l(this,i),a(this).data("tagsinput",d),v.push(d),this.tagName==="SELECT"&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val());else{var g=d[i](u);g!==void 0&&v.push(g)}}),typeof i=="string"?v.length>1?v:v[0]:v},a.fn.tagsinput.Constructor=l;function n(i,u){if(typeof i[u]!="function"){var v=i[u];i[u]=function(d){return d[v]}}}function s(i,u){if(typeof i[u]!="function"){var v=i[u];i[u]=function(){return v}}}var h=a("<div />");function f(i){return i?h.text(i).html():""}function y(i){var u=0;if(document.selection){i.focus();var v=document.selection.createRange();v.moveStart("character",-i.value.length),u=v.text.length}else(i.selectionStart||i.selectionStart=="0")&&(u=i.selectionStart);return u}a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})})(window.jQuery)}}]);

//# sourceMappingURL=9361.05aa4c873dcb8a3aaa34.js.map