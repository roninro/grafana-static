"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[8612],{21090:(H,x,t)=>{t.d(x,{f:()=>c});var L=t(39953),e=t(65489),d=t(21308),I=t(57721),v=t(35430),y=t(4171);const c=({teamId:A,roleOptions:u,disabled:s,roles:P,onApplyRoles:D,pendingRoles:M,apply:$=!1,maxWidth:w,width:F,isLoading:b})=>{const[{loading:Q,value:T=P||[]},E]=(0,e.Z)(async()=>{try{if(P)return P;if($&&M?.length)return M;if(d.Vt.hasPermission(I.AccessControlAction.ActionTeamsRolesList))return await(0,y._C)(A)}catch(U){console.error("Error loading options",U)}return[]},[A,M,P]);(0,L.useEffect)(()=>{E()},[E]);const C=async U=>{$?D&&D(U):(await(0,y.u7)(U,A),await E())},V=d.Vt.hasPermission(I.AccessControlAction.ActionTeamsRolesAdd)&&d.Vt.hasPermission(I.AccessControlAction.ActionTeamsRolesRemove);return L.createElement(v.I,{apply:$,onRolesChange:C,roleOptions:u,appliedRoles:T,isLoading:Q||b,disabled:s,basicRoleDisabled:!0,canUpdateRoles:V,maxWidth:w,width:F})}},38957:(H,x,t)=>{t.d(x,{C:()=>y});var L=t(39953),e=t(99292),d=t(21308),I=t(57721),v=t(4171);const y=c=>{const[A,u]=(0,L.useState)(c),{value:s=[]}=(0,e.Z)(async()=>d.Vt.licensedAccessControlEnabled()&&d.Vt.hasPermission(I.AccessControlAction.ActionRolesList)?(0,v.ul)(A):Promise.resolve([]),[A]);return[{roleOptions:s},u]}},37727:(H,x,t)=>{t.d(x,{Z:()=>o,v:()=>J});var L=t(41407),e=t(39953),d=t(54112),I=t(96083),v=t(28888),y=t(72639),c=t(32688),A=t(85830),u=t(2827),s=t(96227),P=t(9558),D=t(36495),M=t(87783),$=t(76843),w=t(5217),F=t(4919),b=t(64084),Q=t(56516),T=t(62679),E=t(80214),C=t(88960),V=t(54977);function U(){const h=E.a2.map(l=>({value:l.code,label:l.name}));return[{value:"",label:(0,T.t)("common.locale.default","Default")},...h]}class J extends e.PureComponent{constructor(f){super(f),this.onSubmitForm=async()=>{if(this.props.onConfirm?await this.props.onConfirm():!0){const{homeDashboardUID:Z,theme:W,timezone:K,weekStart:G,language:z,queryHistory:_}=this.state;await this.service.update({homeDashboardUID:Z,theme:W,timezone:K,weekStart:G,language:z,queryHistory:_}),window.location.reload()}},this.onThemeChanged=l=>{this.setState({theme:l.value}),l.value&&(0,V.L)(l.value,!0)},this.onTimeZoneChanged=l=>{typeof l=="string"&&this.setState({timezone:l})},this.onWeekStartChanged=l=>{this.setState({weekStart:l})},this.onHomeDashboardChanged=l=>{this.setState({homeDashboardUID:l})},this.onLanguageChanged=l=>{this.setState({language:l}),(0,y.ff)("grafana_preferences_language_changed",{toLanguage:l,preferenceType:this.props.preferenceType})},this.service=new C.y(f.resourceUri),this.state={theme:"",timezone:"",weekStart:"",language:"",queryHistory:{homeTab:""}},this.themeOptions=(0,d.d)(c.config.featureToggles.extraThemes).map(l=>({value:l.id,label:g(l)})),this.themeOptions.unshift({value:"",label:(0,T.t)("shared-preferences.theme.default-label","Default")})}async componentDidMount(){const f=await this.service.load();this.setState({homeDashboardUID:f.homeDashboardUID,theme:f.theme,timezone:f.timezone,weekStart:f.weekStart,language:f.language,queryHistory:f.queryHistory})}render(){const{theme:f,timezone:l,weekStart:Z,homeDashboardUID:W,language:K}=this.state,{disabled:G}=this.props,z=i(),_=U(),X=this.themeOptions.find(B=>B.value===f)??this.themeOptions[0];return e.createElement(A.l,{onSubmit:this.onSubmitForm},()=>e.createElement(e.Fragment,null,e.createElement(u.C,{label:e.createElement(T.cC,{i18nKey:"shared-preferences.title"},"Preferences"),disabled:G},e.createElement(s.g,{label:(0,T.t)("shared-preferences.fields.theme-label","Interface theme")},e.createElement(P.Ph,{options:this.themeOptions,value:X,onChange:this.onThemeChanged,inputId:"shared-preferences-theme-select"})),e.createElement(s.g,{label:e.createElement(D._,{htmlFor:"home-dashboard-select"},e.createElement("span",{className:z.labelText},e.createElement(T.cC,{i18nKey:"shared-preferences.fields.home-dashboard-label"},"Home Dashboard"))),"data-testid":"User preferences home dashboard drop down"},e.createElement(Q.o,{value:W,onChange:B=>this.onHomeDashboardChanged(B?.uid??""),defaultOptions:!0,isClearable:!0,placeholder:(0,T.t)("shared-preferences.fields.home-dashboard-placeholder","Default dashboard"),inputId:"home-dashboard-select"})),e.createElement(s.g,{label:(0,T.t)("shared-dashboard.fields.timezone-label","Timezone"),"data-testid":v.wl.components.TimeZonePicker.containerV2},e.createElement(M.O,{includeInternal:!0,value:l,onChange:this.onTimeZoneChanged,inputId:"shared-preferences-timezone-picker"})),e.createElement(s.g,{label:(0,T.t)("shared-preferences.fields.week-start-label","Week start"),"data-testid":v.wl.components.WeekStartPicker.containerV2},e.createElement($.z,{value:Z||"",onChange:this.onWeekStartChanged,inputId:"shared-preferences-week-start-picker"})),e.createElement(s.g,{label:e.createElement(D._,{htmlFor:"locale-select"},e.createElement("span",{className:z.labelText},e.createElement(T.cC,{i18nKey:"shared-preferences.fields.locale-label"},"Language")),e.createElement(w.a,{featureState:I.CQ.beta})),"data-testid":"User preferences language drop down"},e.createElement(P.Ph,{value:_.find(B=>B.value===K),onChange:B=>this.onLanguageChanged(B.value??""),options:_,placeholder:(0,T.t)("shared-preferences.fields.locale-placeholder","Choose language"),inputId:"locale-select"}))),e.createElement(F.zx,{type:"submit",variant:"primary","data-testid":v.wl.components.UserProfile.preferencesSaveButton},e.createElement(T.cC,{i18nKey:"common.save"},"Save"))))}}const o=J,i=(0,b.B)(()=>({labelText:(0,L.css)`
      margin-right: 6px;
    `}));function g(h){switch(h.id){case"dark":return(0,T.t)("shared.preferences.theme.dark-label","Dark");case"light":return(0,T.t)("shared.preferences.theme.light-label","Light");case"system":return(0,T.t)("shared.preferences.theme.system-label","System preference");default:return h.name}}},53038:(H,x,t)=>{t.r(x),t.d(x,{TeamPages:()=>k,default:()=>Ee});var L=t(86832),e=t(39953),d=t(89772),I=t(13475),v=t(82803),y=t(13253),c=t(41407),A=t(72639),u=t(12190),s=t(4919);const P=({featureName:a,className:r,children:n,text:m,featureId:p,eventVariant:O="",size:R="md",...S})=>{const N=(0,v.wW)(D,R);return(0,e.useEffect)(()=>{(0,A.SZ)(`feature-highlights-${p}`,"test",O)},[O,p]),e.createElement("div",{className:(0,c.cx)(N.box,r),...S},e.createElement(u.J,{name:"rocket",className:N.icon}),e.createElement("div",{className:N.inner},e.createElement("p",{className:N.text},"You\u2019ve discovered a Pro feature! ",m||`Get the Grafana Pro plan to access ${a}.`),e.createElement(s.Qj,{variant:"secondary",size:R,className:N.button,href:"https://grafana.com/profile/org/subscription",target:"__blank",rel:"noopener noreferrer"},"Upgrade")))},D=(a,r)=>{const n=a.shape.borderRadius(2),m=r==="md"?"body":"bodySmall";return{box:(0,c.css)`
      display: flex;
      align-items: center;
      position: relative;
      border-radius: ${n};
      background: ${a.colors.success.transparent};
      padding: ${a.spacing(2)};
      color: ${a.colors.success.text};
      font-size: ${a.typography[m].fontSize};
      text-align: left;
      line-height: 16px;
      margin: ${a.spacing(0,"auto",3,"auto")};
      max-width: ${a.breakpoints.values.xxl}px;
      width: 100%;
    `,inner:(0,c.css)`
      display: flex;
      align-items: center;
      width: 100%;
      justify-content: space-between;
    `,text:(0,c.css)`
      margin: 0;
    `,button:(0,c.css)`
      background-color: ${a.colors.success.main};
      font-weight: ${a.typography.fontWeightLight};
      color: white;

      &:hover {
        background-color: ${a.colors.success.main};
      }

      &:focus-visible {
        box-shadow: none;
        color: ${a.colors.text.primary};
        outline: 2px solid ${a.colors.primary.main};
      }
    `,icon:(0,c.css)`
      margin: ${a.spacing(.5,1,.5,.5)};
    `}},M=({listItems:a,image:r,featureUrl:n,featureName:m,description:p,caption:O,action:R})=>{const S=(0,v.wW)($);return e.createElement("div",{className:S.container},e.createElement("div",{className:S.content},e.createElement("h3",{className:S.title},"Get started with ",m),p&&e.createElement("h6",{className:S.description},p),e.createElement("ul",{className:S.list},a.map((N,j)=>e.createElement("li",{key:j},e.createElement(u.J,{name:"check",size:"xl",className:S.icon})," ",N))),R?.link&&e.createElement(s.Qj,{variant:"primary",href:R.link},R.text),R?.onClick&&e.createElement(s.zx,{variant:"primary",onClick:R.onClick},R.text),n&&e.createElement(s.Qj,{fill:"text",href:n,className:S.link,target:"_blank",rel:"noreferrer noopener"},"Learn more")),e.createElement("div",{className:S.media},e.createElement("img",{src:b(r),alt:"Feature screenshot"}),O&&e.createElement("p",{className:S.caption},O)))},$=a=>({container:(0,c.css)`
      display: flex;
      justify-content: space-between;
    `,content:(0,c.css)`
      width: 45%;
      margin-right: ${a.spacing(4)};
    `,media:(0,c.css)`
      width: 55%;

      img {
        width: 100%;
      }
    `,title:(0,c.css)`
      color: ${a.colors.text.maxContrast};
    `,description:(0,c.css)`
      color: ${a.colors.text.primary};
      font-weight: ${a.typography.fontWeightLight};
    `,list:(0,c.css)`
      list-style: none;
      margin: ${a.spacing(4,0,2,0)};

      li {
        display: flex;
        align-items: flex-start;
        color: ${a.colors.text.primary};
        padding: ${a.spacing(1,0)};
      }
    `,icon:(0,c.css)`
      color: ${a.colors.success.main};
      margin-right: ${a.spacing(1)};
    `,link:(0,c.css)`
      margin-left: ${a.spacing(2)};
    `,caption:(0,c.css)`
      font-weight: ${a.typography.fontWeightLight};
      margin: ${a.spacing(1,0,0)};
    `}),w=({featureName:a,description:r,featureUrl:n,image:m})=>{const p=useStyles2(F);return React.createElement("div",{className:p.container},React.createElement("h3",{className:p.title},"Get started with ",a),r&&React.createElement("h6",{className:p.description},r),React.createElement(LinkButton,{fill:"text",href:n,target:"_blank",rel:"noreferrer noopener"},"Learn more"),React.createElement("div",{className:p.media},React.createElement("img",{src:b(m),alt:"Feature screenshot"})))},F=a=>({container:css`
      overflow: auto;
      height: 100%;
    `,title:css`
      color: ${a.colors.text.maxContrast};
    `,description:css`
      color: ${a.colors.text.primary};
      font-weight: ${a.typography.fontWeightLight};
    `,media:css`
      width: 100%;
      margin-top: ${a.spacing(2)};

      img {
        width: 100%;
      }
    `}),b=a=>a.startsWith("http")?a:"/public/img/enterprise/highlights/"+a;var Q=t(50820),T=t(45015),E=t(97125),C=t(57721),V=t(69865),U=t(74661),J=t(69171),o=t(38637),i=t(24297),g=t(80583),h=t(11906),f=t(22001),l=t(33530);const Z=a=>a.groups,W=(a,r)=>a.team.id===parseInt(r,10)?a.team:null;function K(a){return{groups:Z(a.team)}}const G={loadTeamGroups:l.j_,addTeamGroup:l.A_,removeTeamGroup:l.P5},z=(0,d.connect)(K,G),_="Sync LDAP, OAuth or SAML groups with your Grafana teams.";class X extends e.PureComponent{constructor(r){super(r),this.onToggleAdding=()=>{this.setState({isAdding:!this.state.isAdding})},this.onNewGroupIdChanged=n=>{this.setState({newGroupId:n.target.value})},this.onAddGroup=n=>{n.preventDefault(),this.props.addTeamGroup(this.state.newGroupId),this.setState({isAdding:!1,newGroupId:""})},this.onRemoveGroup=n=>{this.props.removeTeamGroup(n.groupId)},this.state={isAdding:!1,newGroupId:""}}componentDidMount(){this.fetchTeamGroups()}async fetchTeamGroups(){await this.props.loadTeamGroups()}isNewGroupValid(){return this.state.newGroupId.length>1}renderGroup(r){const{isReadOnly:n}=this.props;return e.createElement("tr",{key:r.groupId},e.createElement("td",null,r.groupId),e.createElement("td",{style:{width:"1%"}},e.createElement(s.zx,{size:"sm",variant:"destructive",onClick:()=>this.onRemoveGroup(r),disabled:n,"aria-label":`Remove group ${r.groupId}`},e.createElement(u.J,{name:"times"}))))}render(){const{isAdding:r,newGroupId:n}=this.state,{groups:m,isReadOnly:p}=this.props;return e.createElement("div",null,(0,f.d5)()&&e.createElement(P,{featureId:"team-sync",eventVariant:"trial",featureName:"team sync",text:"Add a group to enable team sync for free during your trial of Grafana Pro."}),e.createElement("div",{className:"page-action-bar"},(!(0,f.d5)()||m.length>0)&&e.createElement(e.Fragment,null,e.createElement("h3",{className:"page-sub-heading"},"External group sync"),e.createElement(V.u,{placement:"auto",content:_},e.createElement(u.J,{className:"icon--has-hover page-sub-heading-icon",name:"question-circle"}))),e.createElement("div",{className:"page-action-bar__spacer"}),m.length>0&&e.createElement(s.zx,{className:"pull-right",onClick:this.onToggleAdding,disabled:p},e.createElement(u.J,{name:"plus"})," Add group")),e.createElement(i.s,{in:r},e.createElement("div",{className:"cta-form"},e.createElement(g.P,{onClick:this.onToggleAdding}),e.createElement("form",{onSubmit:this.onAddGroup},e.createElement(U.Z,null,e.createElement(J._,{label:"Add External Group",tooltip:"LDAP Group Example: cn=users,ou=groups,dc=grafana,dc=org."},e.createElement(o.I,{type:"text",id:"add-external-group",placeholder:"",value:n,onChange:this.onNewGroupIdChanged,disabled:p})),e.createElement(s.zx,{type:"submit",disabled:p||!this.isNewGroupValid(),style:{marginLeft:4}},"Add group"))))),m.length===0&&!r&&((0,f.d5)()?e.createElement(B,{action:{onClick:this.onToggleAdding,text:"Add group"}}):e.createElement(h.Z,{onClick:this.onToggleAdding,buttonIcon:"users-alt",title:"There are no external groups to sync with",buttonTitle:"Add group",proTip:_,proTipLinkTitle:"Learn more",proTipLink:"https://grafana.com/docs/grafana/latest/setup-grafana/configure-security/configure-team-sync/",proTipTarget:"_blank",buttonDisabled:p})),m.length>0&&e.createElement("div",{className:"admin-list-table"},e.createElement("table",{className:"filter-table filter-table--hover form-inline"},e.createElement("thead",null,e.createElement("tr",null,e.createElement("th",null,"External Group ID"),e.createElement("th",{style:{width:"1%"}}))),e.createElement("tbody",null,m.map(O=>this.renderGroup(O))))))}}const B=({action:a})=>{const r=(0,v.l4)();return e.createElement(M,{action:a,listItems:["Stop managing user access in two places - assign users to groups in SAML, LDAP or Oauth, and manage access at a Team level in Grafana","Update users\u2019 permissions immediately when you add or remove them from an LDAP group, with no need for them to sign out and back in"],image:`team-sync-${r.isLight?"light":"dark"}.png`,featureName:"team sync",featureUrl:"https://grafana.com/docs/grafana/latest/enterprise/team-sync",description:"Team Sync makes it easier for you to manage users\u2019 access in Grafana, by immediately updating each user\u2019s Grafana teams and permissions based on their single sign-on group membership, instead of when users sign in."})},q=(0,d.connect)(K,G)(X);var ee=t(88206);const te=a=>{const r=E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsPermissionsWrite,a.team);return e.createElement(ee.P,{title:"",addPermissionTitle:"Add member",buttonLabel:"Add member",emptyLabel:"There are no members in this team or you do not have the permissions to list the current members.",resource:"teams",resourceId:a.team.id,canSetPermissions:r})};var ae=t(12223),ne=t(85830),se=t(2827),Y=t(96227),re=t(21090),oe=t(4171),ie=t(38957),ce=t(37727);const le={updateTeam:l.fs},me=(0,d.connect)(null,le)(({team:a,updateTeam:r})=>{const n=E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsWrite,a),m=E.contextSrv.user.orgId,[{roleOptions:p}]=(0,ie.C)(m),[O,R]=(0,e.useState)([]),S=E.contextSrv.hasPermission(C.AccessControlAction.ActionTeamsRolesAdd)&&E.contextSrv.hasPermission(C.AccessControlAction.ActionTeamsRolesRemove),N=E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsRolesList,a)&&E.contextSrv.hasPermission(C.AccessControlAction.ActionRolesList);return e.createElement(ae.wc,{spacing:"lg"},e.createElement(ne.l,{defaultValues:{...a},onSubmit:async j=>{E.contextSrv.licensedAccessControlEnabled()&&S&&await(0,oe.u7)(O,a.id),r(j.name,j.email||"")},disabled:!n},({register:j,errors:fe})=>e.createElement(se.C,{label:"Team details"},e.createElement(Y.g,{label:"Name",disabled:!n,required:!0,invalid:!!fe.name,error:"Name is required"},e.createElement(o.I,{...j("name",{required:!0}),id:"name-input"})),E.contextSrv.licensedAccessControlEnabled()&&N&&e.createElement(Y.g,{label:"Role"},e.createElement(re.f,{teamId:a.id,roleOptions:p,disabled:!S,apply:!0,onApplyRoles:R,pendingRoles:O,maxWidth:"100%"})),e.createElement(Y.g,{label:"Email",description:"This is optional and is primarily used to set the team profile avatar (via gravatar service).",disabled:!n},e.createElement(o.I,{...j("email"),placeholder:"team@email.com",type:"email",id:"email-input"})),e.createElement(s.zx,{type:"submit",disabled:!n},"Update"))),e.createElement(ce.v,{resourceUri:`teams/${a.id}`,disabled:!n,preferenceType:"team"}))});var de=t(29560),ue=(a=>(a.Members="members",a.Settings="settings",a.GroupSync="groupsync",a))(ue||{});function ge(a,r){const n=parseInt(r.match.params.id,10),m=W(a.team,n);let p="members";(!m||!E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsPermissionsRead,m))&&(p="settings");const O=r.match.params.page??p,R=(0,de.o)(O);return{pageNav:(0,T.ht)(a.navIndex,`team-${O}-${n}`,R).main,teamId:n,pageName:O,team:m}}const he={loadTeam:l.QX},pe=(0,d.connect)(ge,he);class k extends e.PureComponent{constructor(r){super(r),this.textsAreEqual=(n,m)=>!n&&!m?!0:!n||!m?!1:n.toLocaleLowerCase()===m.toLocaleLowerCase(),this.state={isLoading:!1,isSyncEnabled:(0,I.v)("teamsync")}}async componentDidMount(){await this.fetchTeam()}async fetchTeam(){const{loadTeam:r,teamId:n}=this.props;this.setState({isLoading:!0});const m=await r(n);return this.setState({isLoading:!1}),m}getCurrentPage(){const r=["members","settings","groupsync"],n=this.props.pageName;return(0,L.includes)(r,n)?n:r[0]}renderPage(){const{isSyncEnabled:r}=this.state,{team:n}=this.props,m=this.getCurrentPage(),p=E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsRead,n),O=E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsPermissionsRead,n),R=E.contextSrv.hasPermissionInMetadata(C.AccessControlAction.ActionTeamsPermissionsWrite,n);switch(m){case"members":if(O)return e.createElement(te,{team:n});case"settings":return p&&e.createElement(me,{team:n});case"groupsync":if(r){if(O)return e.createElement(q,{isReadOnly:!R})}else if(Q.default.featureToggles.featureHighlights)return e.createElement(e.Fragment,null,e.createElement(P,{featureName:"team sync",featureId:"team-sync"}),e.createElement(B,null))}return null}render(){const{team:r,pageNav:n}=this.props;return e.createElement(y.T,{navId:"teams",pageNav:n},e.createElement(y.T.Contents,{isLoading:this.state.isLoading},r&&Object.keys(r).length!==0&&this.renderPage()))}}const Ee=pe((0,v.HE)(k))},33530:(H,x,t)=>{t.d(x,{A_:()=>V,P5:()=>U,QX:()=>D,R5:()=>$,fC:()=>M,fs:()=>E,jI:()=>s,j_:()=>C,nt:()=>F,oO:()=>w});var L=t(86832),e=t.n(L),d=t(4148),I=t(97316),v=t(21308),y=t(26893),c=t(57721),A=t(29560),u=t(98557);function s(o=!1){return async(i,g)=>{const{query:h,page:f,perPage:l,sort:Z}=g().teams;if(!v.Vt.hasPermission(c.AccessControlAction.ActionTeamsRead)){i((0,u.PL)({teams:[],totalCount:0,page:1,perPage:l,noTeams:!0}));return}const W=await(0,d.i)().get("/api/teams/search",(0,y.y)({query:h,page:f,perpage:l,sort:Z}));let K=!1;if(o&&(K=W.teams.length===0),v.Vt.licensedAccessControlEnabled()){i((0,u.Fy)());const G=W?.teams.map(_=>_.id),z=await(0,d.i)().post("/api/access-control/teams/roles/search",{teamIds:G});W.teams.forEach(_=>{_.roles=z?z[_.id]||[]:[]}),i((0,u.BR)())}i((0,u.PL)({noTeams:K,...W}))}}const P=(0,L.debounce)(o=>o(s()),500);function D(o){return async i=>{const g=await(0,d.i)().get(`/api/teams/${o}`,(0,y.y)());i((0,u.y$)(g)),i((0,I.RL)((0,A.B)(g)))}}function M(o){return async i=>{await(0,d.i)().delete(`/api/teams/${o}`),await v.Vt.fetchUserPermissions(),i(s())}}function $(o){return async i=>{i((0,u.aj)(o)),P(i)}}function w(o){return async i=>{i((0,u.PJ)(o)),i(s())}}function F({sortBy:o}){const i=o.length?`${o[0].id}-${o[0].desc?"desc":"asc"}`:void 0;return async g=>{g((0,u.UL)(i)),g(s())}}function b(){return async(o,i)=>{const g=i().team.team,h=await getBackendSrv().get(`/api/teams/${g.id}/members`);o(teamMembersLoaded(h))}}function Q(o){return async(i,g)=>{const h=g().team.team;await getBackendSrv().post(`/api/teams/${h.id}/members`,{userId:o}),i(b())}}function T(o){return async(i,g)=>{const h=g().team.team;await getBackendSrv().delete(`/api/teams/${h.id}/members/${o}`),i(b())}}function E(o,i){return async(g,h)=>{const f=h().team.team;await(0,d.i)().put(`/api/teams/${f.id}`,{name:o,email:i}),g(D(f.id))}}function C(){return async(o,i)=>{const g=i().team.team,h=await(0,d.i)().get(`/api/teams/${g.id}/groups`);o((0,u.iI)(h))}}function V(o){return async(i,g)=>{const h=g().team.team;await(0,d.i)().post(`/api/teams/${h.id}/groups`,{groupId:o}),i(C())}}function U(o){return async(i,g)=>{const h=g().team.team;await(0,d.i)().delete(`/api/teams/${h.id}/groups?groupId=${encodeURIComponent(o)}`),i(C())}}function J(o){return async i=>{await getBackendSrv().put(`/api/teams/${o.teamId}/members/${o.userId}`,{permission:o.permission}),i(b())}}},29560:(H,x,t)=>{t.d(x,{B:()=>A,o:()=>u});var L=t(13475),e=t(42367),d=t(50820),I=t(97125),v=t(22001),y=t(57721);const c={avatarUrl:"public/img/user_profile.png",id:1,name:"Loading",email:"loading",memberCount:0,permission:y.TeamPermissionLevel.Member,accessControl:{isEditor:!1},orgId:0,updated:""};function A(s){const P={img:s.avatarUrl,id:"team-"+s.id,subTitle:"Manage members and settings",url:"",text:s.name,children:[{active:!1,icon:"sliders-v-alt",id:`team-settings-${s.id}`,text:"Settings",url:`org/teams/edit/${s.id}/settings`}]};(s===c||I.contextSrv.hasPermissionInMetadata(y.AccessControlAction.ActionTeamsPermissionsRead,s))&&P.children.unshift({active:!1,icon:"users-alt",id:`team-members-${s.id}`,text:"Members",url:`org/teams/edit/${s.id}/members`});const D={active:!1,icon:"sync",id:`team-groupsync-${s.id}`,text:"External group sync",url:`org/teams/edit/${s.id}/groupsync`},M=s===c;return(0,v.d5)()&&(D.tabSuffix=()=>(0,e.Z)({experimentId:M?"":"feature-highlights-team-sync-badge",eventVariant:"trial"})),(0,L.v)("teamsync")?(M||I.contextSrv.hasPermissionInMetadata(y.AccessControlAction.ActionTeamsPermissionsRead,s))&&P.children.push(D):d.default.featureToggles.featureHighlights&&P.children.push({...D,tabSuffix:()=>(0,e.Z)({experimentId:M?"":"feature-highlights-team-sync-badge"})}),P}function u(s){const P=A(c);let D;for(const M of P.children)if(M.id.indexOf(s)>0){M.active=!0,D=M;break}return{main:P,node:D}}},99292:(H,x,t)=>{var L;L={value:!0};var e=t(52732),d=t(39953),I=e.__importDefault(t(95681));function v(y,c){c===void 0&&(c=[]);var A=I.default(y,c,{loading:!0}),u=A[0],s=A[1];return d.useEffect(function(){s()},[s]),u}x.Z=v}}]);

//# sourceMappingURL=TeamPages.1851083039456650277e.js.map