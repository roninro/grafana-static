{"version":3,"file":"567.ce11404f4b38b2321d44.js","mappings":"oMA8CA,QAlC4B,CAAC,CAAE,MAAAA,CAAM,IAAa,CAChD,KAAM,CAAE,qBAAAC,CAAqB,KAAI,MAAgB,EAC3C,CAAE,KAAAC,EAAM,UAAAC,EAAW,MAAAC,CAAM,KAAI,KAAsBH,CAAoB,EAEvEI,EAAOL,GAAO,OAAO,KAC3B,OAAKK,EAIDF,GAAa,CAACD,EACT,aAGLE,EAEA,gBAAC,IAAK,CAAC,SAAS,QAAQ,MAAM,oCAC3B,OAAOA,CAAK,CACf,EAICF,EAKH,gBAAC,KACC,uBAAwBD,EACxB,OAAQC,EACR,aAAc,mBAAmBG,CAAI,EACvC,EARO,KAhBA,gBAAC,IAAc,CAAC,OAAO,kBAAmB,EA0BrD,C,uEC/BO,MAAMC,EAAmB,CAAC,CAAE,OAAAC,EAAQ,aAAAC,EAAc,uBAAAC,CAAuB,IAAa,CAC3F,MAAMC,EAAWH,EAAO,iBAAiBC,CAAY,EAC/CG,EAAaJ,EAAO,4BAA4BC,CAAY,EAElE,OAAKE,EAQH,gBAAC,MACC,uBAAAD,EACA,OAAAF,EACA,SAAU,CAAE,KAAMC,EAAc,QAASE,CAAS,EAClD,WAAAC,CAAA,CACF,EAXE,gBAAC,IAAK,CAAC,SAAS,QAAQ,MAAM,sBAAqB,+CAEnD,CAWN,C","sources":["webpack://grafana/./public/app/features/alerting/unified/components/contact-points/EditMessageTemplate.tsx","webpack://grafana/./public/app/features/alerting/unified/components/receivers/EditTemplateView.tsx"],"sourcesContent":["import React from 'react';\nimport { RouteChildrenProps } from 'react-router-dom';\n\nimport { Alert } from '@grafana/ui';\nimport { EntityNotFound } from 'app/core/components/PageNotFound/EntityNotFound';\n\nimport { useAlertmanagerConfig } from '../../hooks/useAlertmanagerConfig';\nimport { useAlertmanager } from '../../state/AlertmanagerContext';\nimport { EditTemplateView } from '../receivers/EditTemplateView';\n\ntype Props = RouteChildrenProps<{ name: string }>;\n\nconst EditMessageTemplate = ({ match }: Props) => {\n  const { selectedAlertmanager } = useAlertmanager();\n  const { data, isLoading, error } = useAlertmanagerConfig(selectedAlertmanager);\n\n  const name = match?.params.name;\n  if (!name) {\n    return <EntityNotFound entity=\"Message template\" />;\n  }\n\n  if (isLoading && !data) {\n    return 'loading...';\n  }\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" title=\"Failed to fetch message template\">\n        {String(error)}\n      </Alert>\n    );\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  return (\n    <EditTemplateView\n      alertManagerSourceName={selectedAlertmanager!}\n      config={data}\n      templateName={decodeURIComponent(name)}\n    />\n  );\n};\n\nexport default EditMessageTemplate;\n","import React from 'react';\n\nimport { Alert } from '@grafana/ui';\nimport { AlertManagerCortexConfig } from 'app/plugins/datasource/alertmanager/types';\n\nimport { TemplateForm } from './TemplateForm';\n\ninterface Props {\n  templateName: string;\n  config: AlertManagerCortexConfig;\n  alertManagerSourceName: string;\n}\n\nexport const EditTemplateView = ({ config, templateName, alertManagerSourceName }: Props) => {\n  const template = config.template_files?.[templateName];\n  const provenance = config.template_file_provenances?.[templateName];\n\n  if (!template) {\n    return (\n      <Alert severity=\"error\" title=\"Template not found\">\n        Sorry, this template does not seem to exists.\n      </Alert>\n    );\n  }\n  return (\n    <TemplateForm\n      alertManagerSourceName={alertManagerSourceName}\n      config={config}\n      existing={{ name: templateName, content: template }}\n      provenance={provenance}\n    />\n  );\n};\n"],"names":["match","selectedAlertmanager","data","isLoading","error","name","EditTemplateView","config","templateName","alertManagerSourceName","template","provenance"],"sourceRoot":""}